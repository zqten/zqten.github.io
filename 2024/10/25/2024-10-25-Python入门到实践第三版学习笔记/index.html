

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/inment.png">
  <link rel="icon" href="/img/inment.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="zqten">
  <meta name="keywords" content="">
  
    <meta name="description" content="第一部分 基础知识 回到主頁 1234567891011121314# python更新指令pip install --upgrade python# pip更新指令python.exe -m pip install --upgrade pip# 国内镜像安装pip install pandas -i https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple some-pa">
<meta property="og:type" content="article">
<meta property="og:title" content="python入门学习笔记">
<meta property="og:url" content="http://example.com/2024/10/25/2024-10-25-Python%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5%E7%AC%AC%E4%B8%89%E7%89%88%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="学无止境">
<meta property="og:description" content="第一部分 基础知识 回到主頁 1234567891011121314# python更新指令pip install --upgrade python# pip更新指令python.exe -m pip install --upgrade pip# 国内镜像安装pip install pandas -i https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple some-pa">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2024-10-24T16:00:00.000Z">
<meta property="article:modified_time" content="2024-10-25T16:48:50.586Z">
<meta property="article:author" content="zqten">
<meta property="article:tag" content="编程">
<meta property="article:tag" content="python">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>python入门学习笔记 - 学无止境</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-10-25T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>学无止境的博客</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="python入门学习笔记"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-10-25 00:00" pubdate>
          2024年10月25日 凌晨
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          <!-- compatible with older versions-->
          22k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          186 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">python入门学习笔记</h1>
            
            
              <div class="markdown-body">
                
                <h1>第一部分 基础知识</h1>
<p><a target="_blank" rel="noopener" href="https://zqten.github.io/">回到主頁</a></p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cmd"># python更新指令<br>pip install --upgrade python<br># pip更新指令<br>python.exe -m pip install --upgrade pip<br># 国内镜像安装<br>pip install pandas -i https://pypi.tuna.tsinghua.edu.cn/simple some-package<br>pip install matplotlib -i https://pypi.tuna.tsinghua.edu.cn/simple some-package<br>pip install numpy -i https://pypi.tuna.tsinghua.edu.cn/simple some-package<br># pip查看可更新包<br>pip list --outdated<br># 批量升级所有包,升级前先确认<br>pip-review --local --interactive<br># 一键升级所有包<br>pip-review --auto<br></code></pre></td></tr></table></figure>
<p>前面的安装环节网络上讲得比书上的要详细多了，官方文档也讲得很清楚，所以这里就不在这里说了，有兴趣可以去访问官方网站<a target="_blank" rel="noopener" href="https://www.python.org/"><sup>😺</sup></a>。</p>
<h2 id="第一章变量和简单的数据类型">第一章	变量和简单的数据类型</h2>
<h3 id="变量">变量</h3>
<p>变量命名有一定的规则</p>
<ul>
<li>不能是数字开头，比如：<strong>1_message</strong></li>
<li>不能包含空格，比如：<strong>mess age</strong></li>
<li>不能是python里面的关键字，比如：print 或 def 等，python里面有很多关键字一般你打出来会高亮显示</li>
<li>最好的变量名应该是既简短又有描述性，比如：name、student_name 等等。</li>
</ul>
<p>这里message是变量名，'Hello Python World!'是指向message变量的值。变量是可以重复赋值的，但它只会储存最后的值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">message = <span class="hljs-string">&#x27;Hello Python World!&#x27;</span><br><span class="hljs-built_in">print</span>(message)<br>Hello Python World!<br><br>message = <span class="hljs-string">&#x27;你好!&#x27;</span><br><span class="hljs-built_in">print</span>(message)<br>你好!<br></code></pre></td></tr></table></figure>
<h3 id="字符串">字符串</h3>
<p>有双引号或单引号包裹的内容就称为字符串，有些编程语言只有双引号是字符串。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;This is string.&quot;</span><br><span class="hljs-string">&#x27;This is string.&#x27;</span><br></code></pre></td></tr></table></figure>
<p><strong>1.方法：title()、upper()、lower()</strong></p>
<p>方法(method)是python对数据执行的操作，name后面的点(.)是让python对name变量执行 <strong>title()</strong> 方法指定的操作，这个方法就是把单词的手写字幕改成大写。**upper()**方法是让所有字母变成大写、**lower()**方法是让所有字母变成小写。还有一个方法修改字符串中的指定单词。**replace()**这个方法我们在后面的练习中会用到。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;zheng kai nan&quot;</span><br><span class="hljs-built_in">print</span>(name.title())<br>Zheng Kai Nan<br><br>name = <span class="hljs-string">&quot;Zheng Kai Nan&quot;</span><br><span class="hljs-built_in">print</span>(name.upper())<br>ZHENG KAI NAN<br><span class="hljs-built_in">print</span>(name.lower())<br>zheng kai nan<br><br>name = <span class="hljs-string">&quot;zheng kai nan&quot;</span><br>name_01 = name.replace(<span class="hljs-string">&quot;kai nan&quot;</span>, <span class="hljs-string">&quot;ji zhong&quot;</span>)<br><span class="hljs-built_in">print</span>(name)<br><span class="hljs-built_in">print</span>(name_01)<br>zheng kai nan<br>zheng ji zhong<br></code></pre></td></tr></table></figure>
<p><strong>2.在字符串中插入变量</strong></p>
<p>这个功能很常用，python的方式是在字符串的引号前面加一个 <strong>f</strong> 字母：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">first_name = <span class="hljs-string">&quot;zheng&quot;</span><br>last_name = <span class="hljs-string">&quot;kai nan&quot;</span><br>full_name = <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;first_name&#125;</span> <span class="hljs-subst">&#123;last_name&#125;</span>&quot;</span><br><span class="hljs-built_in">print</span>(full_name)<br>zheng kai nan<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Hello,<span class="hljs-subst">&#123;full_name.title()&#125;</span>!&quot;</span>)<br>Hello,Zheng Kai Nan!<br></code></pre></td></tr></table></figure>
<p><strong>3.制表符和换行符控制字符串  \t  \n</strong></p>
<p>在字符串中添加**\t**、<strong>\n</strong>可以缩进和换行，字符串引号前加**<code>r</code>**可以让取消里面所有转义符号：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python">message = <span class="hljs-string">&quot;你知道这几种编程语言吗？Python Swift C++ Go Java&quot;</span><br><span class="hljs-built_in">print</span>(message)<br>你知道这几种编程语言吗？Python Swift C++ Go Java<br><br>message = <span class="hljs-string">&quot;\t你知道这几种编程语言吗？Python Swift C++ Go Java&quot;</span><br><span class="hljs-built_in">print</span>(message)<br>     你知道这几种编程语言吗？Python Swift C++ Go Java<br><br>message = <span class="hljs-string">&quot;你知道这几种编程语言吗？\nPython Swift C++ Go Java&quot;</span><br><span class="hljs-built_in">print</span>(message)<br>你知道这几种编程语言吗？<br>Python Swift C++ Go Java<br><br><span class="hljs-comment"># 也可以同时使用</span><br>message = <span class="hljs-string">&quot;你知道这几种编程语言吗？\n\tPython \n\tSwift \n\tC++ \n\tGo \n\tJava&quot;</span><br><span class="hljs-built_in">print</span>(message)<br>你知道这几种编程语言吗？<br>	Python <br>	Swift <br>	C++ <br>	Go <br>	Java<br><span class="hljs-comment"># 取消转义    </span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">r&quot;\nasd&quot;</span>) <br>\nasd<br></code></pre></td></tr></table></figure>
<p><strong>4.删除字符串里面的空白rstrip()、lstrip()、strip()</strong></p>
<p>有时候后输入字符串的时候会多输空格，在python里面多一个空格就意味着两个不同的字符串了。这里有3个方法：分别是<strong>rstrip()、lstrip()、strip()</strong>，*rstrip()*是删除字符串右边的空格，*lstrip()*是删除左边的空格，*strip()*是删除两边的空格。但是这种删除只是暂时的，要想永久删除就要重新赋值给变量。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">language = <span class="hljs-string">&#x27; python &#x27;</span><br><span class="hljs-built_in">print</span>(language.rstrip())<br><span class="hljs-string">&#x27; python&#x27;</span><br><span class="hljs-built_in">print</span>(language.lstrip())<br><span class="hljs-string">&#x27;python &#x27;</span><br><span class="hljs-built_in">print</span>(language.strip())<br><span class="hljs-string">&#x27;python&#x27;</span><br><span class="hljs-comment"># 重新赋值给变量</span><br>language = language.strip()<br><span class="hljs-built_in">print</span>(language)<br><span class="hljs-string">&#x27;python&#x27;</span><br></code></pre></td></tr></table></figure>
<p><strong>5.删除前缀和后缀 removeprefix()、removesuffix()</strong></p>
<p>有些内容有统一的前缀，比如你有很多照片，前缀是某一个时间比如2023.7.25+名字或序号，你就只想要序号或名字就可以用到这个功能，还有就是URL里面的<a target="_blank" rel="noopener" href="https://xn--ciqs4hjswupt5xe2naq96g">https://这个是网站前缀</a>，就可以用*removeprefix()*括号里面填写你想删除的前缀，用引号括起来。这种方法的删除也是暂时的，要想永久删除需要重新赋值，和上面的删除空白一样。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 删除前缀</span><br>Travel_photo = <span class="hljs-string">&quot;2023.7.25-镇远旅游照片&quot;</span><br><span class="hljs-built_in">print</span>(Travel_photo.removeprefix(<span class="hljs-string">&#x27;2023.7.25-&#x27;</span>))<br>镇远旅游照片<br>url = <span class="hljs-string">&quot;https://www.baidu.com&quot;</span><br><span class="hljs-built_in">print</span>(url.removeprefix(<span class="hljs-string">&#x27;https://&#x27;</span>))<br>www.baidu.com<br><br><span class="hljs-comment">#删除后缀</span><br>file_name = <span class="hljs-string">&#x27;abc.jpg&#x27;</span><br><span class="hljs-built_in">print</span>(file_name.removesuffix(<span class="hljs-string">&#x27;.jpg&#x27;</span>))<br>abc<br></code></pre></td></tr></table></figure>
<h3 id="数">数</h3>
<p>可以理解为数学里面的数字，用来计算或可视化数据</p>
<p><strong>1.整数及其运算</strong></p>
<p>integer()或简写int()表示整数，<strong>+、-、*、/</strong> 这几个符号表示加减乘除，还有些复杂的后面会讲到，比如(**)两个星号代表乘方运算。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">2</span> + <span class="hljs-number">3</span><br><span class="hljs-number">5</span><br><span class="hljs-number">3</span> ** <span class="hljs-number">2</span><br><span class="hljs-number">9</span><br></code></pre></td></tr></table></figure>
<p><strong>2.浮点数</strong></p>
<p>float() 表示浮点数，就是带有小数点的数称为浮点数，数字同样都可以应用上面的计算符号。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">0.1</span> + <span class="hljs-number">0.2</span><br><span class="hljs-number">0.3</span><br></code></pre></td></tr></table></figure>
<p><strong>3.数字中的下划线</strong></p>
<p>下划线用在数字中，并不会有其他的效果，只是方便我们更好观察。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">number = <span class="hljs-number">1000_000_000</span><br><span class="hljs-built_in">print</span>(number)<br><span class="hljs-number">10000000000</span><br></code></pre></td></tr></table></figure>
<p><strong>4.同时给多个变量赋值</strong></p>
<p>同时给多个变量赋值，需要用逗号将变量名分开，对于要赋给变量的值也需要做同样的事情</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">x,y,z = <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span><br>x = <span class="hljs-number">1</span><br>y = <span class="hljs-number">2</span><br>z = <span class="hljs-number">3</span><br><br><span class="hljs-comment"># 错误演示</span><br>x,y,z = <span class="hljs-number">1</span>,<span class="hljs-number">2</span><br><span class="hljs-built_in">print</span>(x)<br>发生异常: ValueError x<br><span class="hljs-keyword">not</span> enough values to unpack (expected <span class="hljs-number">3</span>, got <span class="hljs-number">2</span>)<br>  File <span class="hljs-string">&quot;F:\第一章变量和简单数据类型\full_name.py&quot;</span>, line <span class="hljs-number">7</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>    x, y, z = <span class="hljs-number">1</span>, <span class="hljs-number">2</span><br>    ^^^^^^^<br>ValueError: <span class="hljs-keyword">not</span> enough values to unpack (expected <span class="hljs-number">3</span>, got <span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure>
<p><strong>5.常量</strong></p>
<p>Python里面没有常量(就是整个程序的生命周期不改变值的“变量”)，一般是用全大写字母来共同与其他程序员形成约定，遇到全大写字母的变量时，视为常量。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">NAME = <span class="hljs-string">&quot;太阳&quot;</span><br></code></pre></td></tr></table></figure>
<p><strong>6.注释</strong></p>
<p>注释的主要目的是阐述代码要做什么，以及是如何做的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 打印出Hello World</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello World&quot;</span>)<br></code></pre></td></tr></table></figure>
<h3 id="小结">小结</h3>
<p>本章我们学习了如何使用变量，创建了描述性的变量名，学习了字符串是什么，以及如何使用全大写、全小写和首字母大写的方式显示字符串和制表符、换行符。还学习了如何删除字符串中多余的字符和空格，以及字符串中插入变量的方法。还学习了整数和浮点数，还有学习了写注释的目的。</p>
<h2 id="第二章列表简介">第二章	列表简介</h2>
<h3 id="列表是什么">列表是什么</h3>
<p>列表(list)由一系列按<strong>特定顺序</strong>排列的元素组成，一般给列表命名以复数形式，比如：name就用names。<br>
在python中列表用“[ ]”表示，每个元素用逗号隔开。列表里面有两个东西要搞清楚，一个是索引，一个是元素的值。要访问列表时使用索引和元素值都可以，列表的索引是从0开始的，所以要访问的n个元素就使用n-1的索引值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 列表</span><br>bicycles = [<span class="hljs-string">&#x27;trek&#x27;</span>, <span class="hljs-string">&#x27;cannondale&#x27;</span>, <span class="hljs-string">&#x27;redline&#x27;</span>, <span class="hljs-string">&#x27;specialized&#x27;</span>]<br><span class="hljs-built_in">print</span>(bicycles)<br>[<span class="hljs-string">&#x27;trek&#x27;</span>, <span class="hljs-string">&#x27;cannondale&#x27;</span>, <span class="hljs-string">&#x27;redline&#x27;</span>, <span class="hljs-string">&#x27;specialized&#x27;</span>]<br><span class="hljs-comment"># 利用索引值访问列表元素</span><br><span class="hljs-built_in">print</span>(bicycles[<span class="hljs-number">0</span>])<br><span class="hljs-built_in">print</span>(bicycles[<span class="hljs-number">3</span>])<br>trek<br>specialized<br><span class="hljs-comment"># 访问列表的倒数第一个元素</span><br><span class="hljs-built_in">print</span>(bicycles[-<span class="hljs-number">1</span>])<br>specialized<br><span class="hljs-comment"># 使用列表里面的元素到其他场景</span><br>message = <span class="hljs-string">f&#x27;我喜欢<span class="hljs-subst">&#123;bicycles[<span class="hljs-number">0</span>]&#125;</span>品牌的摩托车。&#x27;</span><br><span class="hljs-built_in">print</span>(message)<br>我喜欢trek品牌的摩托车。<br></code></pre></td></tr></table></figure>
<h3 id="修改、添加和删除列表元素">修改、添加和删除列表元素</h3>
<p>大多数列表将是动态的，意味着列表创建后，随着程序的运行将修改、增加、或删除其中的元素。<br>
这中间增加有**append()**方法在列表末尾添加元素，<strong>insert()<strong>在列表的指定位置插入元素。<br>
删除有</strong>del 列表元素</strong>将删除列表元素并且无法在访问这个元素了。<br>
**pop()**默认删除列表最后一个元素，也可以指定删除列表中的其他元素，在括号里面填上该元素的索引值就可以了。<br>
这里说下，pop()删除的元素可以赋值给一个变量继续使用，不像del不能在赋值和访问了。<br>
**remove()**方法是删除一个指定的元素值，列表有多个同样的值的话这个方法只删除第一个，要想全部删除就要使用循环。<br>
值得一提的是这个方法和pop()一样删除了的元素可以赋值给一个变量继续使用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 修改列表元素</span><br>motorcycles = [<span class="hljs-string">&#x27;honda&#x27;</span>, <span class="hljs-string">&#x27;yamaha&#x27;</span>, <span class="hljs-string">&#x27;suzuki&#x27;</span>]<br><span class="hljs-built_in">print</span>(motorcycles)<br>[<span class="hljs-string">&#x27;honda&#x27;</span>, <span class="hljs-string">&#x27;yamaha&#x27;</span>, <span class="hljs-string">&#x27;suzuki&#x27;</span>]<br>motorcycles[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;da yang&#x27;</span><br><span class="hljs-built_in">print</span>(motorcycles)<br>[<span class="hljs-string">&#x27;da yang&#x27;</span>, <span class="hljs-string">&#x27;yamaha&#x27;</span>, <span class="hljs-string">&#x27;suzuki&#x27;</span>]<br><br><span class="hljs-comment"># 添加列表元素</span><br><span class="hljs-comment">## 在列表末尾添加元素</span><br>motorcycles = [<span class="hljs-string">&#x27;honda&#x27;</span>, <span class="hljs-string">&#x27;yamaha&#x27;</span>, <span class="hljs-string">&#x27;suzuki&#x27;</span>]<br><span class="hljs-built_in">print</span>(motorcycles)<br>[<span class="hljs-string">&#x27;honda&#x27;</span>, <span class="hljs-string">&#x27;yamaha&#x27;</span>, <span class="hljs-string">&#x27;suzuki&#x27;</span>]<br>motorcycles.append(<span class="hljs-string">&#x27;da yang&#x27;</span>)<br><span class="hljs-built_in">print</span>(motorcycles)<br>[<span class="hljs-string">&#x27;honda&#x27;</span>, <span class="hljs-string">&#x27;yamaha&#x27;</span>, <span class="hljs-string">&#x27;suzuki&#x27;</span>, <span class="hljs-string">&#x27;da yang&#x27;</span>]<br><span class="hljs-comment">## 在列表的指定位置插入元素</span><br>motorcycles.insert(<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;li fan&#x27;</span>)<br><span class="hljs-built_in">print</span>(motorcycles)<br>[<span class="hljs-string">&#x27;li fan&#x27;</span>, <span class="hljs-string">&#x27;honda&#x27;</span>, <span class="hljs-string">&#x27;yamaha&#x27;</span>, <span class="hljs-string">&#x27;suzuki&#x27;</span>, <span class="hljs-string">&#x27;da yang&#x27;</span>]<br><br><span class="hljs-comment"># 删除列表元素</span><br><span class="hljs-comment">## del方法删除</span><br>motorcycles = [<span class="hljs-string">&#x27;honda&#x27;</span>, <span class="hljs-string">&#x27;yamaha&#x27;</span>, <span class="hljs-string">&#x27;suzuki&#x27;</span>]<br><span class="hljs-built_in">print</span>(motorcycles)<br>[<span class="hljs-string">&#x27;honda&#x27;</span>, <span class="hljs-string">&#x27;yamaha&#x27;</span>, <span class="hljs-string">&#x27;suzuki&#x27;</span>]<br><span class="hljs-keyword">del</span> motorcycles[<span class="hljs-number">0</span>]<br><span class="hljs-built_in">print</span>(motorcycles)<br>[<span class="hljs-string">&#x27;yamaha&#x27;</span>, <span class="hljs-string">&#x27;suzuki&#x27;</span>]<br><span class="hljs-comment">## pop方法删除</span><br>motorcycles = [<span class="hljs-string">&#x27;honda&#x27;</span>, <span class="hljs-string">&#x27;yamaha&#x27;</span>, <span class="hljs-string">&#x27;suzuki&#x27;</span>]<br><span class="hljs-built_in">print</span>(motorcycles)<br>[<span class="hljs-string">&#x27;honda&#x27;</span>, <span class="hljs-string">&#x27;yamaha&#x27;</span>, <span class="hljs-string">&#x27;suzuki&#x27;</span>]<br>poped_motorcycles = motorcycles.pop()<br><span class="hljs-built_in">print</span>(motorcycles)<br>[<span class="hljs-string">&#x27;honda&#x27;</span>, <span class="hljs-string">&#x27;yamaha&#x27;</span>]<br><span class="hljs-built_in">print</span>(poped_motorcycles)<br>suzuki<br><span class="hljs-comment">### pop方法删除指定位置的元素</span><br>motorcycles = [<span class="hljs-string">&#x27;honda&#x27;</span>, <span class="hljs-string">&#x27;yamaha&#x27;</span>, <span class="hljs-string">&#x27;suzuki&#x27;</span>]<br><span class="hljs-built_in">print</span>(motorcycles)<br>[<span class="hljs-string">&#x27;honda&#x27;</span>, <span class="hljs-string">&#x27;yamaha&#x27;</span>, <span class="hljs-string">&#x27;suzuki&#x27;</span>]<br>last_motorcycles = motorcycles.pop(<span class="hljs-number">0</span>)<br><span class="hljs-built_in">print</span>(motorcycles)<br>[<span class="hljs-string">&#x27;yamaha&#x27;</span>, <span class="hljs-string">&#x27;suzuki&#x27;</span>]<br><span class="hljs-built_in">print</span>(last_motorcycles)<br>honda<br><span class="hljs-comment">## remove()根据值删除元素</span><br>motorcycles = [<span class="hljs-string">&#x27;honda&#x27;</span>, <span class="hljs-string">&#x27;yamaha&#x27;</span>, <span class="hljs-string">&#x27;suzuki&#x27;</span>]<br><span class="hljs-built_in">print</span>(motorcycles)<br>[<span class="hljs-string">&#x27;honda&#x27;</span>, <span class="hljs-string">&#x27;yamaha&#x27;</span>, <span class="hljs-string">&#x27;suzuki&#x27;</span>]<br>mid_motorcycles = <span class="hljs-string">&#x27;yamaha&#x27;</span><br>motorcycles.remove(mid_motorcycles)<br><span class="hljs-built_in">print</span>(motorcycles)<br>[<span class="hljs-string">&#x27;honda&#x27;</span>, <span class="hljs-string">&#x27;suzuki&#x27;</span>]<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;mid_motorcycles.title()&#125;</span>&#x27;</span>)<br>Yamaha<br></code></pre></td></tr></table></figure>
<h3 id="列表管理">列表管理</h3>
<p><strong>1.sort()<strong>方法可以对列表</strong>永久排序</strong>，该方法是将列表按字母顺序或数字从小到大的顺序进行排序。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">cars = [<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>]<br><span class="hljs-built_in">print</span>(cars)<br>[<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>]<br>cars.sort()<br><span class="hljs-built_in">print</span>(cars)<br>[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>]<br><span class="hljs-comment"># 反向排序</span><br>cars.sort(reverse=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(cars)<br>[<span class="hljs-string">&#x27;f&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>]<br><span class="hljs-comment"># 反转列表,这是一种快捷方法</span><br>cars = cars[::-<span class="hljs-number">1</span>]<br><span class="hljs-built_in">print</span>(cars)<br>[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>]<br></code></pre></td></tr></table></figure>
<p><strong>2. sorted()<strong>方法是对列表进行</strong>临时排序</strong>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 临时反向排序</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">sorted</span>(cars, reverse=<span class="hljs-literal">True</span>))<br>[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>]<br><span class="hljs-built_in">print</span>(cars)<br>[<span class="hljs-string">&#x27;f&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>]<br></code></pre></td></tr></table></figure>
<p><strong>3.reverse()<strong>方法是</strong>永久反转排列</strong>列表里面的元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">cars.reverse()<br><span class="hljs-built_in">print</span>(cars)<br>[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>]<br></code></pre></td></tr></table></figure>
<p>**4.len()**方法可以快速获取列表长度，其显示的是列表内有多少个元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(cars))<br><span class="hljs-number">6</span><br></code></pre></td></tr></table></figure>
<p><strong>5.enumerate()</strong> 函数用于将一个可遍历的数据对象(如列表、元组或字符串)组合为一个索引序列，<strong>同时列出数据和数据下标</strong>，一般用在 for 循环当中。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>seq = [<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">for</span> i, element <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(seq):<br><span class="hljs-meta">... </span>    <span class="hljs-built_in">print</span> i, element<br>...<br><span class="hljs-number">0</span> one<br><span class="hljs-number">1</span> two<br><span class="hljs-number">2</span> three<br></code></pre></td></tr></table></figure>
<h3 id="小节">小节</h3>
<p>本章学习了什么是列表，以及如何使用列表内的元素。学习了定义列表，增删改列表内元素，以及如何对列表进行永久排序和临时排序，还学习了反转列表顺序和反向排序。</p>
<h2 id="第三章-操作列表">第三章 操作列表</h2>
<h3 id="遍历整个列表">遍历整个列表</h3>
<p>使用<strong>for</strong>循环可以很轻松的访问整个列表，以及对列表进行操作。这里值得一提的是for循环里面的变量名，在遍历列表是尽可能用列表的单数名，比如列表名为cars，那么for循环的变量尽量写成car。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python">magicians = [<span class="hljs-string">&#x27;alice&#x27;</span>, <span class="hljs-string">&#x27;david&#x27;</span>, <span class="hljs-string">&#x27;carolina&#x27;</span>]<br><span class="hljs-keyword">for</span> magician <span class="hljs-keyword">in</span> magicians:<br>    <span class="hljs-built_in">print</span>(magician)<br><br>alice<br>david<br>carolina<br><span class="hljs-comment"># 进行其他操作</span><br><span class="hljs-keyword">for</span> magician <span class="hljs-keyword">in</span> magicians:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;magician.title()&#125;</span>,你的表演很精彩！&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;谢谢你，<span class="hljs-subst">&#123;magician.title()&#125;</span>&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;感谢你们每一个人的表演&#x27;</span>)<br>Alice,你的表演很精彩！<br>谢谢你，Alice<br>David,你的表演很精彩！<br>谢谢你，David<br>Carolina,你的表演很精彩！<br>谢谢你，Carolina<br>感谢你们每一个人的表演<br></code></pre></td></tr></table></figure>
<h3 id="创建数值列表">创建数值列表</h3>
<p><strong>range()<strong>函数可以生成一系列数，但它实际上不会打印最后一个数，这是编程语言中常见的</strong>差一</strong>行为结果，要想打印最后个数需要使用**+1或者是使用比最后一个数大1的数**</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>):<br>    <span class="hljs-built_in">print</span>(i, end=<span class="hljs-string">&#x27; &#x27;</span>)<br><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span><br><span class="hljs-comment"># 打印最后一位</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>+<span class="hljs-number">1</span>):<br>    <span class="hljs-built_in">print</span>(i, end=<span class="hljs-string">&#x27; &#x27;</span>)<br><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span><br><br></code></pre></td></tr></table></figure>
<p>**list()**函数可以将range()的结果直接转换为列表，方法是将range()作为list()的参数，同时range（）还可以指定步长。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">number = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">6</span>))<br><span class="hljs-built_in">print</span>(number)<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br><span class="hljs-comment"># 从2开始到11结束，指定步长为2</span><br>even_number = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>, <span class="hljs-number">11</span>, <span class="hljs-number">2</span>))<br><span class="hljs-built_in">print</span>(even_number)<br>[<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>]<br><span class="hljs-comment"># 用for循环创建数值列表</span><br>squares = []<br><span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">11</span>):<br>    square = value**<span class="hljs-number">2</span><br>    squares.append(square)<br><span class="hljs-built_in">print</span>(squares)<br>[<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">36</span>, <span class="hljs-number">49</span>, <span class="hljs-number">64</span>, <span class="hljs-number">81</span>, <span class="hljs-number">100</span>]<br></code></pre></td></tr></table></figure>
<p>使用这几个函数可以对数值列表进行统计<strong>列表作为其参数</strong>，min（）列表里面最小值，max（）列表里面最大值，sum（）列表所有数求和。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 简单统计数值列表</span><br>values = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">min</span>(values))<br><span class="hljs-number">0</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">max</span>(values))<br><span class="hljs-number">9</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">sum</span>(values))<br><span class="hljs-number">45</span><br></code></pre></td></tr></table></figure>
<p><strong>列表推导式</strong>是一种简化方法，这种方法首先指定一个列表名（变量名），然后等号右边用中括号开始，括号内的排列顺序是表达式------for循环，这种方法需要经常练习。比如创建上面数值列表可以写成：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">squares = [value**<span class="hljs-number">2</span> <span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">11</span>)]<br><span class="hljs-built_in">print</span>(squares)<br>[<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">36</span>, <span class="hljs-number">49</span>, <span class="hljs-number">64</span>, <span class="hljs-number">81</span>, <span class="hljs-number">100</span>]<br><span class="hljs-comment"># 1到50的奇数之和游戏</span><br>jishu_num = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">50</span>, <span class="hljs-number">2</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">sum</span>(jishu_num))<br><span class="hljs-number">625</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">sum</span>([jishu <span class="hljs-keyword">for</span> jishu <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">50</span>, <span class="hljs-number">2</span>)]))<br><span class="hljs-number">625</span><br></code></pre></td></tr></table></figure>
<h3 id="使用列表的一部分">使用列表的一部分</h3>
<p><strong>切片</strong>，要使用列表的一部分，其实就是使用列表的索引。使用的方法是在调用列表时在列表名后面[0:1]，这代表列表的第一个和第二个值，就是在列表索引值0,1的值。这里面也要注意差一行为。在一个班级需要评出前三名或后三名或部分名单时，切片可以起到很好的作用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 切片</span><br>players = [<span class="hljs-string">&#x27;charles&#x27;</span>, <span class="hljs-string">&#x27;martina&#x27;</span>, <span class="hljs-string">&#x27;michael&#x27;</span>, <span class="hljs-string">&#x27;florence&#x27;</span>, <span class="hljs-string">&#x27;eli&#x27;</span>]<br><span class="hljs-comment"># 索引值1到3的元素因为差一行为，所以并不会打印索引值3的元素</span><br><span class="hljs-built_in">print</span>(players[<span class="hljs-number">1</span>:<span class="hljs-number">3</span>])<br>[<span class="hljs-string">&#x27;martina&#x27;</span>, <span class="hljs-string">&#x27;michael&#x27;</span>]<br><span class="hljs-comment"># 索引值0到3的元素</span><br><span class="hljs-built_in">print</span>(players[:<span class="hljs-number">3</span>])<br>[<span class="hljs-string">&#x27;charles&#x27;</span>, <span class="hljs-string">&#x27;martina&#x27;</span>, <span class="hljs-string">&#x27;michael&#x27;</span>]<br><span class="hljs-comment"># 索引值1到列表最后一个的元素</span><br><span class="hljs-built_in">print</span>(players[<span class="hljs-number">1</span>:])<br>[<span class="hljs-string">&#x27;martina&#x27;</span>, <span class="hljs-string">&#x27;michael&#x27;</span>, <span class="hljs-string">&#x27;florence&#x27;</span>, <span class="hljs-string">&#x27;eli&#x27;</span>]<br><span class="hljs-comment"># 索引值0到列表最后一个的元素</span><br><span class="hljs-built_in">print</span>(players[:])<br>[<span class="hljs-string">&#x27;charles&#x27;</span>, <span class="hljs-string">&#x27;martina&#x27;</span>, <span class="hljs-string">&#x27;michael&#x27;</span>, <span class="hljs-string">&#x27;florence&#x27;</span>, <span class="hljs-string">&#x27;eli&#x27;</span>]<br><span class="hljs-comment"># 索引值为列表最后3个的元素</span><br><span class="hljs-built_in">print</span>(players[-<span class="hljs-number">3</span>:])<br>[<span class="hljs-string">&#x27;michael&#x27;</span>, <span class="hljs-string">&#x27;florence&#x27;</span>, <span class="hljs-string">&#x27;eli&#x27;</span>]<br><span class="hljs-comment"># 遍历切片</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;下面是我们的前三名&#x27;</span>)<br><span class="hljs-keyword">for</span> player <span class="hljs-keyword">in</span> players[:<span class="hljs-number">3</span>]:<br>    <span class="hljs-built_in">print</span>(player.title())<br>下面是我们的前三名<br>Charles<br>Martina<br>Michael<br></code></pre></td></tr></table></figure>
<p><strong>复制列表或列表切片</strong></p>
<p>需要注意的是不能直接用列表赋值给新变量，这会使他们指向同一个列表，你操作列表，两个变量都会改变，要复制列表时尽量使用切片复制。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python">players = [<span class="hljs-string">&#x27;charles&#x27;</span>, <span class="hljs-string">&#x27;martina&#x27;</span>, <span class="hljs-string">&#x27;michael&#x27;</span>, <span class="hljs-string">&#x27;florence&#x27;</span>, <span class="hljs-string">&#x27;eli&#x27;</span>]<br><br>yuwen_win = players[:<span class="hljs-number">3</span>]<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;语文前三名是：&#x27;</span>)<br><span class="hljs-built_in">print</span>(yuwen_win)<br>语文前三名是：<br>[<span class="hljs-string">&#x27;charles&#x27;</span>, <span class="hljs-string">&#x27;martina&#x27;</span>, <span class="hljs-string">&#x27;michael&#x27;</span>]<br><br>shuxue_win = players[-<span class="hljs-number">3</span>:]<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;数学前三名是：&#x27;</span>)<br><span class="hljs-built_in">print</span>(shuxue_win)<br>数学前三名是：<br>[<span class="hljs-string">&#x27;michael&#x27;</span>, <span class="hljs-string">&#x27;florence&#x27;</span>, <span class="hljs-string">&#x27;eli&#x27;</span>]<br><br><span class="hljs-comment"># 需要注意的是不能直接用列表赋值给新变量，这会使他们指向同一个列表，你操作列表，两个变量都会改变</span><br>new_players = players<br><span class="hljs-built_in">print</span>(new_players)<br>[<span class="hljs-string">&#x27;charles&#x27;</span>, <span class="hljs-string">&#x27;martina&#x27;</span>, <span class="hljs-string">&#x27;michael&#x27;</span>, <span class="hljs-string">&#x27;florence&#x27;</span>, <span class="hljs-string">&#x27;eli&#x27;</span>]<br>players.append(<span class="hljs-string">&#x27;AAABBB&#x27;</span>)<br><span class="hljs-built_in">print</span>(new_players)<br>[<span class="hljs-string">&#x27;charles&#x27;</span>, <span class="hljs-string">&#x27;martina&#x27;</span>, <span class="hljs-string">&#x27;michael&#x27;</span>, <span class="hljs-string">&#x27;florence&#x27;</span>, <span class="hljs-string">&#x27;eli&#x27;</span>, <span class="hljs-string">&#x27;AAABBB&#x27;</span>]<br></code></pre></td></tr></table></figure>
<h3 id="元组">元组</h3>
<p>不可以改变值的列表，称为元组（tuple），元组和列表很像，但是列表是用方括号，而元组是用圆括号。虽然不可以修改元组里面的值，但是可以通过重新赋值改变该变量。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">dimensions = (<span class="hljs-number">200</span>, <span class="hljs-number">50</span>)<br><span class="hljs-built_in">print</span>(dimensions)<br>(<span class="hljs-number">200</span>, <span class="hljs-number">50</span>)<br><span class="hljs-comment"># 遍历</span><br>dimensions = (<span class="hljs-number">400</span>, <span class="hljs-number">50</span>)<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> dimensions:<br>    <span class="hljs-built_in">print</span>(i)<br><span class="hljs-number">400</span><br><span class="hljs-number">50</span><br></code></pre></td></tr></table></figure>
<h3 id="设置代码格式">设置代码格式</h3>
<p>为什么要设置代码格式？</p>
<p>代码被阅读的次数远大于编写的次数。在编写完以后的多次阅读中，良好的代码格式可以让阅读花的时间很短。<br>
PEP 8 是设置代码指南，它建议每级缩进4个空格。每个编辑器（IDE）都可以设置，通常（tab）使用是最多的。<br>
每行长度建议不超过79个字符，但这并不是不可逾越的红线，刚开始学的时候不必在意，不过养成这样的习惯后，会对以后和别人合作带来很多方便。<br>
空行建议：不同内容建议用一个空行隔开，不建议使用3、4或多个空行来区隔，主要是空行多了影响阅读。</p>
<h3 id="小结-v2">小结</h3>
<p>本章学习了如何高效的处理列表中的元素，如何使用for循环遍历列表，如何创建简单的数值列表以及对数值列表执行的一些操作。还学习了如何使用切片对列表进行操作和复制，最后还学习了元组，以及设置代码格式。</p>
<h2 id="第四章-if语句">第四章 if语句</h2>
<p>编程时经常需要检查一系列的条件，并根据此决定采取什么措施。if语句让你能够检查程序的当前状态，并采取相应的措施。每条if语句的核心都是一个值为True或False的表达式。相应的符号有：==、!=、&lt;、&gt;、&lt;=、&gt;=。关键字有：if、elif、else。在检查多个条件时会用到与、或、非：他们的关键词是：and（两个都为真）、or（一个为真）、not（条件为假）。</p>
<p><strong>示例</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 示例</span><br>cars = [<span class="hljs-string">&#x27;audi&#x27;</span>, <span class="hljs-string">&#x27;bmw&#x27;</span>, <span class="hljs-string">&#x27;subaru&#x27;</span>, <span class="hljs-string">&#x27;toyota&#x27;</span>]<br><span class="hljs-keyword">for</span> car <span class="hljs-keyword">in</span> cars:<br>    <span class="hljs-keyword">if</span> car == <span class="hljs-string">&#x27;bmw&#x27;</span>:<br>        <span class="hljs-built_in">print</span>(car.upper())<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(car.title())<br>Audi<br>BMW<br>Subaru<br>Toyota<br></code></pre></td></tr></table></figure>
<h3 id="条件测试">条件测试</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>car = <span class="hljs-string">&#x27;bmw&#x27;</span><br><span class="hljs-comment"># ==是相等运算符，目的是比较等式两边的值是否相等，相等就是True否则就是False</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>car == <span class="hljs-string">&#x27;bmw&#x27;</span><br><span class="hljs-literal">True</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>car == <span class="hljs-string">&#x27;toyota&#x27;</span><br><span class="hljs-literal">False</span><br><span class="hljs-comment"># 检查是忽略大小写可以用到字符串的方法upper（）或title（）等等</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>car.upper() == <span class="hljs-string">&#x27;BMW&#x27;</span><br><span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure>
<p><strong>检查是否不等</strong>，这里用的符号是 != 。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">requested_topping = <span class="hljs-string">&#x27;mushrooms&#x27;</span><br><span class="hljs-keyword">if</span> requested_topping != <span class="hljs-string">&#x27;anchovies&#x27;</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hold the anhovies!&#x27;</span>)<br>Hold the anhovies!<br></code></pre></td></tr></table></figure>
<p><strong>数值比较</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>age = <span class="hljs-number">18</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>age == <span class="hljs-number">19</span><br><span class="hljs-literal">False</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>age == <span class="hljs-number">18</span>  <br><span class="hljs-literal">True</span><br><br>answer = <span class="hljs-number">17</span><br><span class="hljs-keyword">if</span> answer != <span class="hljs-number">42</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;这个数值不是42，请再次更改变量值！&#x27;</span>)<br>这个数值不是<span class="hljs-number">42</span>，请再次更改变量值！<br></code></pre></td></tr></table></figure>
<p><strong>检查多个条件</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>age_0 = <span class="hljs-number">21</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>age_1 = <span class="hljs-number">18</span><br><span class="hljs-comment"># and</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>age_0 &gt;=<span class="hljs-number">21</span> <span class="hljs-keyword">and</span> age_1 &gt;=<span class="hljs-number">21</span><br><span class="hljs-literal">False</span><br><span class="hljs-comment"># or</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>age_0 &gt;=<span class="hljs-number">21</span> <span class="hljs-keyword">or</span> age_1 &gt;=<span class="hljs-number">21</span>  <br><span class="hljs-literal">True</span><br><br></code></pre></td></tr></table></figure>
<p><strong>检查某个特定的值是否在或不在列表中</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>number = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">5</span> <span class="hljs-keyword">in</span> number<br><span class="hljs-literal">True</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">9</span> <span class="hljs-keyword">in</span> number<br><span class="hljs-literal">False</span><br><br>number = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>number_0 = <span class="hljs-number">8</span><br><span class="hljs-keyword">if</span> number_0 <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> number:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;number_0&#125;</span>不在我们的数字列表里面。我们把他加进来吧！&#x27;</span>)<br><span class="hljs-number">8</span>不在我们的数字列表里面。我们把他加进来吧！<br></code></pre></td></tr></table></figure>
<h3 id="if-语句">if 语句</h3>
<p>在了解了条件测试之后，就可以编写if 语句了，具体使用哪一种取决于测试的条件数量。</p>
<p><strong>最简单的if 语句</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">age = <span class="hljs-number">18</span><br><span class="hljs-keyword">if</span> age &gt;= <span class="hljs-number">18</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;你已经成年了。&#x27;</span>)<br>你已经成年了。<br></code></pre></td></tr></table></figure>
<p><strong>if-else语句</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python">age = <span class="hljs-number">17</span><br><span class="hljs-keyword">if</span> age &gt;= <span class="hljs-number">18</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;你已经成年了。&#x27;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;你还是未成年。&#x27;</span>)<br>你还是未成年。<br></code></pre></td></tr></table></figure>
<p><strong>if-elif-else语句</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python">age = <span class="hljs-number">12</span><br><span class="hljs-keyword">if</span> age &lt; <span class="hljs-number">4</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;你可以免费观看电影。&#x27;</span>)<br><span class="hljs-keyword">elif</span> age &lt; <span class="hljs-number">18</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;你可以半价购买电影票。&#x27;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;你需要购买全票。&#x27;</span>)<br>你可以半价购买电影票。<br><span class="hljs-comment"># 有些情况下是可以省略else这个代码块的</span><br><span class="hljs-keyword">if</span> age &lt; <span class="hljs-number">4</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;你可以免费观看电影。&#x27;</span>)<br><span class="hljs-keyword">elif</span> age &lt; <span class="hljs-number">18</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;你可以半价购买电影票。&#x27;</span>)<br><span class="hljs-keyword">elif</span> age &gt;= <span class="hljs-number">18</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;你需要购买全票。&#x27;</span>)<br>你可以半价购买电影票。<br></code></pre></td></tr></table></figure>
<h3 id="使用if-语句处理列表">使用if 语句处理列表</h3>
<p><strong>检查列表里面是否有相应的元素</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br><span class="hljs-keyword">for</span> number <span class="hljs-keyword">in</span> numbers:<br>    <span class="hljs-keyword">if</span> number == <span class="hljs-number">3</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;这个列表里3是中间数&#x27;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;这个列表里有<span class="hljs-subst">&#123;number&#125;</span>.&#x27;</span>)<br>这个列表里有<span class="hljs-number">1.</span><br>这个列表里有<span class="hljs-number">2.</span><br>这个列表里<span class="hljs-number">3</span>是中间数<br>这个列表里有<span class="hljs-number">4.</span><br>这个列表里有<span class="hljs-number">5.</span><br></code></pre></td></tr></table></figure>
<p><strong>确定列表是不是空列表</strong>，列表为空时都是返回False。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">numbers = []<br><span class="hljs-keyword">if</span> numbers:<br>    <span class="hljs-keyword">for</span> number <span class="hljs-keyword">in</span> numbers:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;adding <span class="hljs-subst">&#123;number&#125;</span>&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\n所有数字添加了&#x27;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;好像这里面没有数字诶!&#x27;</span>)<br>好像这里面没有数字诶!<br></code></pre></td></tr></table></figure>
<p><strong>多个列表</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python">numbers_0 = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>numbers_1 = [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">0</span>]<br><span class="hljs-built_in">print</span>(numbers_0)<br><span class="hljs-built_in">print</span>(numbers_1)<br><span class="hljs-keyword">for</span> number <span class="hljs-keyword">in</span> numbers_1:<br>    <span class="hljs-keyword">if</span> number <span class="hljs-keyword">in</span> numbers_0:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;这两个列表都有 <span class="hljs-subst">&#123;number&#125;</span>&#x27;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;第一个列表里面没有 <span class="hljs-subst">&#123;number&#125;</span> 这个数。&#x27;</span>)<br>[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>[<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">0</span>]<br>第一个列表里面没有 <span class="hljs-number">6</span> 这个数。<br>第一个列表里面没有 <span class="hljs-number">7</span> 这个数。<br>第一个列表里面没有 <span class="hljs-number">8</span> 这个数。<br>第一个列表里面没有 <span class="hljs-number">9</span> 这个数。<br>这两个列表都有 <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure>
<h3 id="小结-v3">小结</h3>
<p>本章学习了if语句以及相关的关键词和符号，也使用for循环遍历列表时对某些元素做特出处理。</p>
<h2 id="第五章-字典">第五章 字典</h2>
<p>字典就是储存多个有两种相关信息的元素，比如姓名及其年龄，单词及其含义等，字典的信息量也不守限制。</p>
<h3 id="一个简单的字典">一个简单的字典</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">alien = &#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;bule&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">5</span>&#125;<br><span class="hljs-built_in">print</span>(alien[<span class="hljs-string">&#x27;color&#x27;</span>])<br><span class="hljs-built_in">print</span>(alien[<span class="hljs-string">&#x27;points&#x27;</span>])<br>bule<br><span class="hljs-number">5</span><br></code></pre></td></tr></table></figure>
<h3 id="使用字典">使用字典</h3>
<p>字典（dictionary）是一系列的<strong>键值对</strong>，每个键都对应一个值，字典用放在花括号{ }中的一系列键值对表示。</p>
<p><strong>访问字典中的值</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">alien = &#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;bule&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">5</span>&#125;<br><span class="hljs-built_in">print</span>(alien[<span class="hljs-string">&#x27;color&#x27;</span>])<br>bule<br></code></pre></td></tr></table></figure>
<p><strong>添加键值对</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">alien[<span class="hljs-string">&#x27;x_position&#x27;</span>] = <span class="hljs-number">0</span><br>alien[<span class="hljs-string">&#x27;y_position&#x27;</span>] = <span class="hljs-number">25</span><br><span class="hljs-built_in">print</span>(alien）<br>&#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;bule&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">5</span>, <span class="hljs-string">&#x27;x_position&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;y_position&#x27;</span>: <span class="hljs-number">25</span>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>创建一个空字典</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">alien = &#123;&#125;<br>alien[<span class="hljs-string">&#x27;color&#x27;</span>] = <span class="hljs-string">&#x27;blue&#x27;</span><br>alien[<span class="hljs-string">&#x27;x_position&#x27;</span>] = <span class="hljs-number">0</span><br>alien[<span class="hljs-string">&#x27;y_position&#x27;</span>] = <span class="hljs-number">25</span><br><span class="hljs-built_in">print</span>(alien)<br>&#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-string">&#x27;x_position&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;y_position&#x27;</span>: <span class="hljs-number">25</span>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>修改字典中的值</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">alien[<span class="hljs-string">&#x27;x_position&#x27;</span>] = <span class="hljs-number">10</span><br><span class="hljs-built_in">print</span>(alien)<br>&#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-string">&#x27;x_position&#x27;</span>: <span class="hljs-number">10</span>, <span class="hljs-string">&#x27;y_position&#x27;</span>: <span class="hljs-number">25</span>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>删除键值对</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">alien[<span class="hljs-string">&#x27;speed&#x27;</span>] = <span class="hljs-string">&#x27;medium&#x27;</span><br><span class="hljs-built_in">print</span>(alien)<br>&#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-string">&#x27;x_position&#x27;</span>: <span class="hljs-number">10</span>, <span class="hljs-string">&#x27;y_position&#x27;</span>: <span class="hljs-number">25</span>, <span class="hljs-string">&#x27;speed&#x27;</span>: <span class="hljs-string">&#x27;medium&#x27;</span>&#125;<br><span class="hljs-comment"># 删除键值对</span><br><span class="hljs-keyword">del</span> alien[<span class="hljs-string">&#x27;speed&#x27;</span>]<br><span class="hljs-built_in">print</span>(alien)<br>&#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-string">&#x27;x_position&#x27;</span>: <span class="hljs-number">10</span>, <span class="hljs-string">&#x27;y_position&#x27;</span>: <span class="hljs-number">25</span>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>由类似对象组成字典</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">favonlie_languages = &#123;<br>    <span class="hljs-string">&#x27;jen&#x27;</span>: <span class="hljs-string">&#x27;python&#x27;</span>,<br>    <span class="hljs-string">&#x27;sarah&#x27;</span>: <span class="hljs-string">&#x27;c&#x27;</span>,<br>    <span class="hljs-string">&#x27;edward&#x27;</span>: <span class="hljs-string">&#x27;swift&#x27;</span>,<br>    <span class="hljs-string">&#x27;phil&#x27;</span>: <span class="hljs-string">&#x27;python&#x27;</span>,<br>&#125;<br><span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> favonlie_languages.items():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;key.title()&#125;</span>喜欢使用<span class="hljs-subst">&#123;value.title()&#125;</span>语言编程！&#x27;</span>)<br>Jen喜欢使用Python语言编程！<br>Sarah喜欢使用C语言编程！<br>Edward喜欢使用Swift语言编程！<br>Phil喜欢使用Python语言编程！<br></code></pre></td></tr></table></figure>
<p><strong>使用get()方法来访问值</strong></p>
<p>如果你访问的值不存在字典里，你直接访问的话会出现错误，这时候可以使用get()方法来访问，这个方法可以让你在访问不存在的值的时候返回一个默认值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python">alien = &#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;bule&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">5</span>&#125;<br><span class="hljs-built_in">print</span>(alien[<span class="hljs-string">&#x27;speed&#x27;</span>])<br><br>发生异常: KeyError<br><span class="hljs-string">&#x27;speed&#x27;</span><br>  File <span class="hljs-string">&quot;favonlie_languages.py&quot;</span>, line <span class="hljs-number">2</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>    <span class="hljs-built_in">print</span>(alien[<span class="hljs-string">&#x27;speed&#x27;</span>])<br>          ~~~~~^^^^^^^^^<br>KeyError: <span class="hljs-string">&#x27;speed&#x27;</span><br><br><span class="hljs-built_in">print</span>(alien.get(<span class="hljs-string">&#x27;speed&#x27;</span>, <span class="hljs-string">&#x27;不好意思，没有这个索引且没有对应的值&#x27;</span>))<br>不好意思，没有这个索引且没有对应的值<br>alien[<span class="hljs-string">&#x27;speed&#x27;</span>] = <span class="hljs-string">&#x27;medium&#x27;</span><br><span class="hljs-built_in">print</span>(alien.get(<span class="hljs-string">&#x27;speed&#x27;</span>, <span class="hljs-string">&#x27;不好意思，没有这个索引且没有对应的值&#x27;</span>))<br>medium<br></code></pre></td></tr></table></figure>
<h3 id="遍历字典">遍历字典</h3>
<p>遍历字典中的内容有3个基本的关键词，items()字典中的键和值，有这个方法需要两个临时变量用于遍历字典、keys()遍历字典中的键、values()遍历字典中的值。</p>
<p><strong>遍历所有键值对</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">like_number = &#123;<br>    <span class="hljs-string">&#x27;a&#x27;</span>: <span class="hljs-string">&#x27;8&#x27;</span>,<br>    <span class="hljs-string">&#x27;b&#x27;</span>: <span class="hljs-string">&#x27;7&#x27;</span>,<br>    <span class="hljs-string">&#x27;c&#x27;</span>: <span class="hljs-string">&#x27;5&#x27;</span>,<br>    <span class="hljs-string">&#x27;d&#x27;</span>: <span class="hljs-string">&#x27;9&#x27;</span>,<br>&#125;<br><span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> like_number.items():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;key.title()&#125;</span> like number is <span class="hljs-subst">&#123;value&#125;</span>&#x27;</span>)<br>A like number <span class="hljs-keyword">is</span> <span class="hljs-number">8</span><br>B like number <span class="hljs-keyword">is</span> <span class="hljs-number">7</span><br>C like number <span class="hljs-keyword">is</span> <span class="hljs-number">5</span><br>D like number <span class="hljs-keyword">is</span> <span class="hljs-number">9</span><br></code></pre></td></tr></table></figure>
<p><strong>遍历所有键</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python">favonlie_languages = &#123;<br>    <span class="hljs-string">&#x27;jen&#x27;</span>: <span class="hljs-string">&#x27;python&#x27;</span>,<br>    <span class="hljs-string">&#x27;sarah&#x27;</span>: <span class="hljs-string">&#x27;c#&#x27;</span>,<br>    <span class="hljs-string">&#x27;edward&#x27;</span>: <span class="hljs-string">&#x27;swift&#x27;</span>,<br>    <span class="hljs-string">&#x27;phil&#x27;</span>: <span class="hljs-string">&#x27;python&#x27;</span>,<br>&#125;<br><span class="hljs-comment"># 遍历所有键</span><br><span class="hljs-keyword">for</span> name <span class="hljs-keyword">in</span> favonlie_languages.keys():<br>    <span class="hljs-built_in">print</span>(name.title())<br>Jen<br>Sarah<br>Edward<br>Phil<br><br><span class="hljs-comment"># 按特定顺序遍历字典中的所有键</span><br><span class="hljs-keyword">for</span> name <span class="hljs-keyword">in</span> <span class="hljs-built_in">sorted</span>(favonlie_languages.keys()):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Thank you <span class="hljs-subst">&#123;name.title()&#125;</span>,you are welcome!&#x27;</span>)<br>Thank you Edward,you are welcome!<br>Thank you Jen,you are welcome!<br>Thank you Phil,you are welcome!<br>Thank you Sarah,you are welcome!<br><br><span class="hljs-comment"># 遍历字典中的所有值</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;编程语言&#x27;</span>)<br><span class="hljs-keyword">for</span> language <span class="hljs-keyword">in</span> favonlie_languages.values():<br>    <span class="hljs-built_in">print</span>(language)<br>编程语言<br>python<br>c<span class="hljs-comment">#</span><br>swift<br>python<br></code></pre></td></tr></table></figure>
<p>**set()**方法用于提取列表或集合中的不同元素，如果有相同的只会提取一个。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;编程语言&#x27;</span>)<br><span class="hljs-keyword">for</span> language <span class="hljs-keyword">in</span> <span class="hljs-built_in">set</span>(favonlie_languages.values()):<br>    <span class="hljs-built_in">print</span>(language.title())<br>编程语言<br>swift<br>c<span class="hljs-comment">#</span><br>python<br><br><span class="hljs-comment"># 集合表现形式，一般用花括号，但里面是没有键值对的，里面的元素表现跟列表一样</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>number = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>number<br>&#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="嵌套">嵌套</h3>
<p>有些时候需要将多个字典储存在列表中或将列表作为值储存在字典中，这中行为就成为嵌套。</p>
<p><strong>字典列表</strong>就是在列表中储存字典可以应用于用户信息等。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs python">alien_0 = &#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">5</span>&#125;<br>alien_1 = &#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">10</span>&#125;<br>alien_2 = &#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">15</span>&#125;<br>aliens = [alien_0, alien_1, alien_2]<br><span class="hljs-keyword">for</span> alien <span class="hljs-keyword">in</span> aliens:<br>    <span class="hljs-built_in">print</span>(alien)<br>&#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">5</span>&#125;<br>&#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">10</span>&#125;<br>&#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">15</span>&#125;<br><br><span class="hljs-comment"># 创建一个用于储存外星人的空列表</span><br>aliens = []<br><span class="hljs-comment"># 用for循环创建30个绿色的外星人</span><br><span class="hljs-keyword">for</span> alien_number <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">30</span>):<br>    new_alien = &#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">5</span>, <span class="hljs-string">&#x27;speed&#x27;</span>: <span class="hljs-string">&#x27;slow&#x27;</span>&#125;<br>    aliens.append(new_alien)<br><span class="hljs-comment"># 打印前5个外星人</span><br><span class="hljs-keyword">for</span> alien <span class="hljs-keyword">in</span> aliens[:<span class="hljs-number">5</span>]:<br>    <span class="hljs-built_in">print</span>(alien)<br>&#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">5</span>, <span class="hljs-string">&#x27;speed&#x27;</span>: <span class="hljs-string">&#x27;slow&#x27;</span>&#125;<br>&#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">5</span>, <span class="hljs-string">&#x27;speed&#x27;</span>: <span class="hljs-string">&#x27;slow&#x27;</span>&#125;<br>&#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">5</span>, <span class="hljs-string">&#x27;speed&#x27;</span>: <span class="hljs-string">&#x27;slow&#x27;</span>&#125;<br>&#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">5</span>, <span class="hljs-string">&#x27;speed&#x27;</span>: <span class="hljs-string">&#x27;slow&#x27;</span>&#125;<br>&#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">5</span>, <span class="hljs-string">&#x27;speed&#x27;</span>: <span class="hljs-string">&#x27;slow&#x27;</span>&#125;<br><span class="hljs-comment"># 显示创建了多少个外星人</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;创建了多少个外星人:<span class="hljs-subst">&#123;<span class="hljs-built_in">len</span>(aliens)&#125;</span>&#x27;</span>)<br>创建了多少个外星人:<span class="hljs-number">30</span><br><span class="hljs-comment"># 修改前三个</span><br><span class="hljs-keyword">for</span> alien <span class="hljs-keyword">in</span> aliens[:<span class="hljs-number">3</span>]:<br>    <span class="hljs-keyword">if</span> alien[<span class="hljs-string">&#x27;color&#x27;</span>] == <span class="hljs-string">&#x27;green&#x27;</span>:<br>        alien[<span class="hljs-string">&#x27;color&#x27;</span>] = <span class="hljs-string">&#x27;yellow&#x27;</span><br>        alien[<span class="hljs-string">&#x27;points&#x27;</span>] = <span class="hljs-number">10</span><br>        alien[<span class="hljs-string">&#x27;speed&#x27;</span>] = <span class="hljs-string">&#x27;medium&#x27;</span><br><span class="hljs-keyword">for</span> alien <span class="hljs-keyword">in</span> aliens[:<span class="hljs-number">5</span>]:<br>    <span class="hljs-built_in">print</span>(alien)<br>&#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;yellow&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">10</span>, <span class="hljs-string">&#x27;speed&#x27;</span>: <span class="hljs-string">&#x27;medium&#x27;</span>&#125;<br>&#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;yellow&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">10</span>, <span class="hljs-string">&#x27;speed&#x27;</span>: <span class="hljs-string">&#x27;medium&#x27;</span>&#125;<br>&#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;yellow&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">10</span>, <span class="hljs-string">&#x27;speed&#x27;</span>: <span class="hljs-string">&#x27;medium&#x27;</span>&#125;<br>&#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">5</span>, <span class="hljs-string">&#x27;speed&#x27;</span>: <span class="hljs-string">&#x27;slow&#x27;</span>&#125;<br>&#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;points&#x27;</span>: <span class="hljs-number">5</span>, <span class="hljs-string">&#x27;speed&#x27;</span>: <span class="hljs-string">&#x27;slow&#x27;</span>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>在字典中储存列表</strong>可以用于食品配方等</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">pizza = &#123;<br>    <span class="hljs-string">&#x27;crust&#x27;</span>: <span class="hljs-string">&#x27;think&#x27;</span>,<br>    <span class="hljs-string">&#x27;toppings&#x27;</span>: [<span class="hljs-string">&#x27;mushrooms&#x27;</span>, <span class="hljs-string">&#x27;extra cheese&#x27;</span>]<br>&#125;<br><span class="hljs-built_in">print</span>(<br>    <span class="hljs-string">f&#x27;You ordered a <span class="hljs-subst">&#123;pizza[<span class="hljs-string">&quot;crust&quot;</span>]&#125;</span>-crust pizza &#x27;</span><span class="hljs-string">&quot;with the following toppings:&quot;</span>)<br><span class="hljs-keyword">for</span> topping <span class="hljs-keyword">in</span> pizza[<span class="hljs-string">&#x27;toppings&#x27;</span>]:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;\t<span class="hljs-subst">&#123;topping&#125;</span>&#x27;</span>)<br>You ordered a think-crust pizza <span class="hljs-keyword">with</span> the following toppings:<br>	mushrooms<br>	extra cheese<br></code></pre></td></tr></table></figure>
<p><strong>在字典中储存字典</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python">user = &#123;<br>    <span class="hljs-string">&#x27;aeinstein&#x27;</span>: &#123;<br>        <span class="hljs-string">&#x27;first&#x27;</span>: <span class="hljs-string">&#x27;albert&#x27;</span>,<br>        <span class="hljs-string">&#x27;last&#x27;</span>: <span class="hljs-string">&#x27;einstein&#x27;</span>,<br>        <span class="hljs-string">&#x27;location&#x27;</span>: <span class="hljs-string">&#x27;princeton&#x27;</span>,<br>    &#125;,<br>    <span class="hljs-string">&#x27;mcurie&#x27;</span>: &#123;<br>        <span class="hljs-string">&#x27;first&#x27;</span>: <span class="hljs-string">&#x27;marie&#x27;</span>,<br>        <span class="hljs-string">&#x27;last&#x27;</span>: <span class="hljs-string">&#x27;curie&#x27;</span>,<br>        <span class="hljs-string">&#x27;location&#x27;</span>: <span class="hljs-string">&#x27;paris&#x27;</span>,<br>    &#125;<br>&#125;<br><span class="hljs-keyword">for</span> username, user_info <span class="hljs-keyword">in</span> user.items():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;\nUsername: <span class="hljs-subst">&#123;username&#125;</span>&#x27;</span>)<br>    full_name = <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;user_info[<span class="hljs-string">&#x27;first&#x27;</span>]&#125;</span> <span class="hljs-subst">&#123;user_info[<span class="hljs-string">&#x27;last&#x27;</span>]&#125;</span>&quot;</span><br>    location = user_info[<span class="hljs-string">&#x27;location&#x27;</span>]<br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;\tFullname: <span class="hljs-subst">&#123;full_name.title()&#125;</span>&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;\tLocation: <span class="hljs-subst">&#123;location.title()&#125;</span>&#x27;</span>)<br><br>Username: aeinstein<br>	Fullname: Albert Einstein<br>	Location: Princeton<br><br>Username: mcurie<br>	Fullname: Marie Curie<br>	Location: Paris<br></code></pre></td></tr></table></figure>
<h3 id="小结-v4">小结</h3>
<p>本章我们学习了如何定义字典，以及如何使用储存在字典中的信息。然后学习了如何访问和修改字典中的元素，以及如何遍历字典中的信息。还学习了如何遍历字典中的所有键值对、所有的键和所有的值。学习了如何在列表中嵌套字典，在字典中如何嵌套列表，在字典中嵌套字典。</p>
<h2 id="第六章-用户输入和while循环">第六章 用户输入和while循环</h2>
<h3 id="input-函数的工作原理">input()函数的工作原理</h3>
<p>input()函数让程序暂停运行，等待用户输入一些文本。获取用户输入后，Python将其赋给一个变量，以便使用。input()函数接受一个参数，即要向用户显示的提示(prompt)。用户输入的内容Python默认为字符串，要想用户输入其他内容需要再input()前面制定类型，比如：要想用户输入的是数值 int(input(“How old are you”))。<br>
**注意：**有些文本编辑器不能运行提示用户输入的程序，要运行他们需要从终端运行。在cmd终端里面直接运行python文件就可以了，<strong>格式是</strong>：路径&gt;py 文件名和文件后缀。有些python版本需要使用：路径&gt;python 文件名和文件后缀。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>message = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;tell me something, and I will repeat it back to you:&quot;</span>)<br>tell me something, <span class="hljs-keyword">and</span> I will repeat it back to you: hello world<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(message)<br> hello world<br><span class="hljs-meta">&gt;&gt;&gt; </span>  <br></code></pre></td></tr></table></figure>
<p><strong>使用int()来获取数值输入</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 控制用户输入的内容为数字</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>age = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;How old are you: &quot;</span>))<br>How old are you: <span class="hljs-number">36</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>age&gt;<span class="hljs-number">20</span><br><span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure>
<p><strong>求模运算</strong>是个很有用的工具，它将两个数相除并返回余数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">number = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入一个数，我可以判断是奇数还是偶数：&quot;</span>))<br><span class="hljs-keyword">if</span> number % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;这个数是偶数！&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;这个数是奇数！&quot;</span>)<br>请输入一个数，我可以判断是奇数还是偶数：<span class="hljs-number">50</span><br>这个数是偶数！<br></code></pre></td></tr></table></figure>
<h3 id="while-循环简介">while 循环简介</h3>
<p>for 循环用于针对集合中的每个元素执行一个代码块，而 while 循环这不断地运行，只到指定的条件不再满足为止。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">number = <span class="hljs-number">1</span><br><span class="hljs-keyword">while</span> number &lt;= <span class="hljs-number">5</span>:<br>    <span class="hljs-built_in">print</span>(number, end=<span class="hljs-string">&quot; &quot;</span>)<br>    number += <span class="hljs-number">1</span><br><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span><br></code></pre></td></tr></table></figure>
<p><strong>让用户选择何时退出</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 只要用户输入的不是‘quit’和‘exit’该循环就继续运行。</span><br>prompt = <span class="hljs-string">&quot;我们来玩个游戏，看看你知不知道怎么退出这个游戏: &quot;</span><br>message = <span class="hljs-string">&quot;&quot;</span><br><span class="hljs-keyword">while</span> message != <span class="hljs-string">&quot;quit&quot;</span> <span class="hljs-keyword">or</span> message != <span class="hljs-string">&quot;exit&quot;</span>:<br>    <span class="hljs-comment"># 这里添加了一个lower方法目的是让用户输入的内容都变成小写和下面的if进行判断。</span><br>    message = <span class="hljs-built_in">input</span>(prompt).lower()<br>    <span class="hljs-keyword">if</span> message == <span class="hljs-string">&quot;quit&quot;</span> <span class="hljs-keyword">or</span> message == <span class="hljs-string">&quot;exit&quot;</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;恭喜你！&quot;</span>)<br>        <span class="hljs-keyword">break</span><br>我们来玩个游戏，看看你知不知道怎么退出这个游戏: <span class="hljs-number">2</span><br>我们来玩个游戏，看看你知不知道怎么退出这个游戏: <span class="hljs-number">3</span><br>我们来玩个游戏，看看你知不知道怎么退出这个游戏: ExiT<br>恭喜你！<br><br><span class="hljs-comment"># 使用标志让用户选择何时退出</span><br>prompt = <span class="hljs-string">&quot;我们来玩个游戏，看看你知不知道怎么退出这个游戏: &quot;</span><br>active = <span class="hljs-literal">True</span><br><span class="hljs-keyword">while</span> active:<br>    message = <span class="hljs-built_in">input</span>(prompt).lower()<br>    <span class="hljs-keyword">if</span> message == <span class="hljs-string">&quot;quit&quot;</span> <span class="hljs-keyword">or</span> message == <span class="hljs-string">&quot;exit&quot;</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;恭喜你！&quot;</span>)<br>        active = <span class="hljs-literal">False</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;再想想退出的英文是什么？&quot;</span>)<br>我们来玩个游戏，看看你知不知道怎么退出这个游戏: qwe<br>再想想退出的英文是什么？<br>我们来玩个游戏，看看你知不知道怎么退出这个游戏: QUIT<br>恭喜你！<br></code></pre></td></tr></table></figure>
<p><strong>break 退出循环</strong>，不管条件满不满足，想立即退出 while 循环，不再运行后面的代码，可以使用 break 语句。上面的例子已经使用过一次了。我们再使用一个特别的例子。break 还可以用来退出遍历列表或字典的 for 循环。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    message = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请你说说你喜欢哪个城市: &quot;</span>).lower()<br>    <span class="hljs-keyword">if</span> message == <span class="hljs-string">&quot;quit&quot;</span> <span class="hljs-keyword">or</span> message == <span class="hljs-string">&quot;exit&quot;</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;再见！&quot;</span>)<br>        <span class="hljs-keyword">break</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;除了<span class="hljs-subst">&#123;message.title()&#125;</span>还有其他的城市么？&quot;</span>)<br>请你说说你喜欢哪个城市: shang hai<br>除了Shang Hai 还有其他的城市么？<br>请你说说你喜欢哪个城市: QUIT<br>再见！<br></code></pre></td></tr></table></figure>
<p><strong>在循环中使用 continue</strong></p>
<p>要返回循环的开头，并根据条件测试的结果决定是否继续执行循环，可以使用 continue 语句，他不像 break 那样不执行余下的代码并退出整个循环。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">number = <span class="hljs-number">0</span><br><span class="hljs-keyword">while</span> number &lt; <span class="hljs-number">10</span>:<br>    number += <span class="hljs-number">1</span><br>    <span class="hljs-keyword">if</span> number % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">continue</span><br>    <span class="hljs-built_in">print</span>(number, end=<span class="hljs-string">&quot; &quot;</span>)<br><span class="hljs-number">1</span> <span class="hljs-number">3</span> <span class="hljs-number">5</span> <span class="hljs-number">7</span> <span class="hljs-number">9</span> <br></code></pre></td></tr></table></figure>
<p><strong>避免无线循环</strong></p>
<p>while 循环一定要设置退出条件，如果没有退出条件，while 循环就会无止境的一直执行代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">number = <span class="hljs-number">0</span><br><span class="hljs-keyword">while</span> number &lt; <span class="hljs-number">5</span>:<br>    <span class="hljs-built_in">print</span>(number)<br></code></pre></td></tr></table></figure>
<h3 id="使用-while-循环处理列表和字典">使用 while 循环处理列表和字典</h3>
<p>for 循环是一种遍历列表的有效方式，但不应该在 for 循环中修改列表，否则将导致Python难以跟踪其中的元素。要在遍历列表的同时修改它，可使用 while 循环。通过将 while 循环与列表和字典结合起来使用，可收集、存储并组织大量的输入，供以后查看和使用。<strong>注意</strong>，这里有个有意思的事情，就是列表里面是空的时候它的布尔值是 False ，列表里面有元素的时候，它的布尔值是 True 。</p>
<p><strong>在列表之间移动元素</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 首先创建一个待验证的用户列表</span><br><span class="hljs-comment"># 和一个用户储存已验证用户的空列表</span><br>unconfirmed_users = [<span class="hljs-string">&#x27;admin&#x27;</span>, <span class="hljs-string">&#x27;zqten&#x27;</span>, <span class="hljs-string">&#x27;candace&#x27;</span>]<br>confirmed_users = []<br><span class="hljs-comment"># 验证每个用户，直到没有未验证的用户为止</span><br><span class="hljs-comment"># 将每个经过验证的用户添加到已验证用户列表中</span><br><span class="hljs-keyword">while</span> unconfirmed_users:<br>    current_user = unconfirmed_users.pop()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Verifying user: <span class="hljs-subst">&#123;current_user.title()&#125;</span>&#x27;</span>)<br>    confirmed_users.append(current_user)<br><span class="hljs-comment"># 显示所有的已验证的用户</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nThe following users have been confirmed:&#x27;</span>)<br><span class="hljs-keyword">for</span> confirmed_user <span class="hljs-keyword">in</span> confirmed_users:<br>    <span class="hljs-built_in">print</span>(confirmed_user.title())<br>    <br>Verifying user: Candace<br>Verifying user: Zqten<br>Verifying user: Admin<br><br>The following users have been confirmed:<br>Candace<br>Zqten<br>Admin<br></code></pre></td></tr></table></figure>
<p><strong>删除为特定值的所有列表元素</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 删除为特定值的所有列表元素</span><br>pets = [<span class="hljs-string">&#x27;dog&#x27;</span>, <span class="hljs-string">&#x27;cat&#x27;</span>, <span class="hljs-string">&#x27;dog&#x27;</span>, <span class="hljs-string">&#x27;goldfish&#x27;</span>, <span class="hljs-string">&#x27;cat&#x27;</span>, <span class="hljs-string">&#x27;rabbit&#x27;</span>, <span class="hljs-string">&#x27;cat&#x27;</span>]<br><span class="hljs-built_in">print</span>(pets)<br><span class="hljs-keyword">while</span> <span class="hljs-string">&#x27;cat&#x27;</span> <span class="hljs-keyword">in</span> pets:<br>    pets.remove(<span class="hljs-string">&#x27;cat&#x27;</span>)<br><span class="hljs-built_in">print</span>(pets)<br>[<span class="hljs-string">&#x27;dog&#x27;</span>, <span class="hljs-string">&#x27;cat&#x27;</span>, <span class="hljs-string">&#x27;dog&#x27;</span>, <span class="hljs-string">&#x27;goldfish&#x27;</span>, <span class="hljs-string">&#x27;cat&#x27;</span>, <span class="hljs-string">&#x27;rabbit&#x27;</span>, <span class="hljs-string">&#x27;cat&#x27;</span>]<br>[<span class="hljs-string">&#x27;dog&#x27;</span>, <span class="hljs-string">&#x27;dog&#x27;</span>, <span class="hljs-string">&#x27;goldfish&#x27;</span>, <span class="hljs-string">&#x27;rabbit&#x27;</span>]<br></code></pre></td></tr></table></figure>
<p><strong>使用用户输入填充字典</strong></p>
<p>可以使用 while 循环提示用户输入任意多的信息。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 使用用户输入填充字典</span><br>responses = &#123;&#125;<br><span class="hljs-comment"># 设置一个标志，指出调查是否继续</span><br>polling_active = <span class="hljs-literal">True</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;这是调查每个人的爱好，请根据提示输入。&#x27;</span>)<br><span class="hljs-keyword">while</span> polling_active:<br>    <span class="hljs-comment"># 提示输入被调查者的名字和回答</span><br>    name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入被调查者的名字：&quot;</span>)<br>    response = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入被调查者的回答：&quot;</span>)<br>    <span class="hljs-comment"># 将输入的数据储存在字典中</span><br>    responses[name] = response<br>    <span class="hljs-comment"># 询问用户是否继续调查</span><br>    repeat = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;是否有人继续参与调查？（yes/no）&quot;</span>)<br>    <span class="hljs-keyword">if</span> repeat == <span class="hljs-string">&#x27;no&#x27;</span>:<br>        polling_active = <span class="hljs-literal">False</span><br>    <span class="hljs-comment"># 下面这段代码的目的是让用户输入yes和no，输入其他的会提示错误，如果是只判断退出循环条件的话，可以省略下面。</span><br>    <span class="hljs-keyword">elif</span> repeat == <span class="hljs-string">&#x27;yes&#x27;</span>:<br>        <span class="hljs-keyword">continue</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">while</span> repeat != <span class="hljs-string">&#x27;yes&#x27;</span> <span class="hljs-keyword">or</span> repeat != <span class="hljs-string">&#x27;no&#x27;</span>:<br>            <span class="hljs-keyword">if</span> repeat == <span class="hljs-string">&#x27;no&#x27;</span>:<br>                polling_active = <span class="hljs-literal">False</span><br>                <span class="hljs-keyword">break</span><br>            <span class="hljs-keyword">elif</span> repeat == <span class="hljs-string">&#x27;yes&#x27;</span>:<br>                <span class="hljs-keyword">break</span><br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;输入错误，请重新输入&quot;</span>)<br>                repeat = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;是否有人继续参与调查？（yes/no）&quot;</span>)<br>        <span class="hljs-keyword">if</span> repeat == <span class="hljs-string">&#x27;no&#x27;</span>:<br>            polling_active = <span class="hljs-literal">False</span><br><br><span class="hljs-comment"># 输出调查结果</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\n---调查结果---&#x27;</span>)<br><span class="hljs-keyword">for</span> name, response <span class="hljs-keyword">in</span> responses.items():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;name&#125;</span>的爱好是: <span class="hljs-subst">&#123;response&#125;</span>。&quot;</span>)<br><br>这是调查每个人的爱好，请根据提示输入。<br>请输入被调查者的名字：刘翔<br>请输入被调查者的回答：跨栏<br>是否有人继续参与调查？（yes/no）不知道<br>输入错误，请重新输入<br>是否有人继续参与调查？（yes/no）yes<br>请输入被调查者的名字：姚明<br>请输入被调查者的回答：篮球<br>是否有人继续参与调查？（yes/no）不知道<br>输入错误，请重新输入<br>是否有人继续参与调查？（yes/no）no<br><br>---调查结果---<br>刘翔的爱好是: 跨栏。<br>姚明的爱好是: 篮球。<br></code></pre></td></tr></table></figure>
<h3 id="小结-v5">小结</h3>
<p>本章学习了如何在程序中使用 input() 来让用户提供信息，如何处理文本和数的输入，以及如何使用 while 循环让程序按用户的要求不断地运行。然后见识了多种控制 while 循环流程的方式：设置活动标志，使用 break 语句，以及使用 continue 语句。还学习了如何使用 while 循环在列表之间移动元素，以及如何从列表中删除所有包含特定值的元素。最后，学习了如何结合使用 while 循环和字典。</p>
<h2 id="第七章-函数">第七章 函数</h2>
<p>函数是带名字的代码块，用于完成具体的工作。要执行函数定义的特定任务，可调用（call）该函数。当需要再程序中多次执行同一项任务时，无须反复编写完成该任务的代码，只需要调用执行该任务的函数，让Python运行其中的代码即可。</p>
<h3 id="定义函数">定义函数</h3>
<p>定义函数的关键字是 def 。后面是函数名和括号，没有参数时可以是空括号，然后和 for 、while 一样也需要冒号，表示定义完成，换行后缩进表示要执行的代码块。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">greet_user</span>():<br>    <span class="hljs-string">&#x27;&#x27;&#x27;显示简单的问候语&#x27;&#x27;&#x27;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello World!&quot;</span>)<br><br>greet_user()<br>Hello World!<br></code></pre></td></tr></table></figure>
<p><strong>向函数传递信息</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">greet_user</span>(<span class="hljs-params">uesrname</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;显示简单的问候语&#x27;&#x27;&#x27;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Hello,<span class="hljs-subst">&#123;uesrname&#125;</span>!&quot;</span>)<br><br><br>greet_user(<span class="hljs-string">&#x27;zqten&#x27;</span>)<br>Hello,zqten!<br></code></pre></td></tr></table></figure>
<p><strong>实参和形参</strong></p>
<p>在上面的例子中，uesrname是一个形参，即函数完成工作所需要的信息。<br>
而 ‘zqten’ 则是实参，即在调用函数时传递给函数的信息。</p>
<h3 id="传递实参">传递实参</h3>
<p>传递实参有两种方式，一种是按照位置顺序传递，另一种是按照关键字传递。按照关键字传递实参不用考虑顺序，但要记得关键字。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">describe_pet</span>(<span class="hljs-params">animal_type, pet_name: <span class="hljs-built_in">str</span></span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;显示宠物信息&#x27;&#x27;&#x27;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;\nI have a <span class="hljs-subst">&#123;animal_type&#125;</span>.&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;My <span class="hljs-subst">&#123;animal_type&#125;</span>&#x27;s name is <span class="hljs-subst">&#123;pet_name.title()&#125;</span>.&quot;</span>)<br>    <br><span class="hljs-comment"># 按位置顺序传递实参</span><br>describe_pet(<span class="hljs-string">&#x27;cat&#x27;</span>, <span class="hljs-string">&#x27;duoduo&#x27;</span>)<br>I have a cat.<br>My cat<span class="hljs-string">&#x27;s name is Duoduo.</span><br><span class="hljs-string"></span><br><span class="hljs-string"># 按关键字传递实参</span><br><span class="hljs-string">describe_pet(pet_name=&#x27;</span>nai cha<span class="hljs-string">&#x27;, animal_type=&#x27;</span>dog<span class="hljs-string">&#x27;)</span><br><span class="hljs-string">I have a dog.</span><br><span class="hljs-string">My dog&#x27;</span>s name <span class="hljs-keyword">is</span> Nai Cha.<br></code></pre></td></tr></table></figure>
<p><strong>默认值</strong></p>
<p>有些时候你想改变某个参数，但有些时候你想让这个参数先有一个默认值，后面调用的时候看情况是否修改。这种情况可以为参数设置一个默认值。如果没有设置默认值，在调用的时候也没有传递参数 Python 就会报错。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">describe_pet</span>(<span class="hljs-params">animal_type=<span class="hljs-string">&#x27;cat&#x27;</span>, pet_name=<span class="hljs-string">&#x27;duo duo&#x27;</span></span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;显示宠物信息&#x27;&#x27;&#x27;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;\nI have a <span class="hljs-subst">&#123;animal_type&#125;</span>.&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;My <span class="hljs-subst">&#123;animal_type&#125;</span>&#x27;s name is <span class="hljs-subst">&#123;pet_name.title()&#125;</span>.&quot;</span>)<br><span class="hljs-comment"># 有默认值的情况下，可以不用传递参数，也可以看需要传递</span><br>describe_pet()<br>I have a cat.<br>My cat<span class="hljs-string">&#x27;s name is Duo Duo.</span><br><span class="hljs-string"></span><br><span class="hljs-string">describe_pet(&#x27;</span>dog<span class="hljs-string">&#x27;, &#x27;</span>nai cha<span class="hljs-string">&#x27;)</span><br><span class="hljs-string">I have a dog.</span><br><span class="hljs-string">My dog&#x27;</span>s name <span class="hljs-keyword">is</span> Nai Cha.<br></code></pre></td></tr></table></figure>
<h3 id="返回值">返回值</h3>
<p>函数并非总是直接显示输出，它还可以处理一些数据，并返回一个或一组值，函数返回的值称为返回值。在函数中 <strong>return</strong> 语句将值返回到调用函数的那行代码，返回值能让你将程序的大部分繁重工作移到函数中，从而简化程序。</p>
<p><strong>返回简单的值</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_formatted_name</span>(<span class="hljs-params">first_name, last_name</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;返回标准格式的姓名&#x27;&#x27;&#x27;</span><br>    full_name = <span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;first_name&#125;</span> <span class="hljs-subst">&#123;last_name&#125;</span>&#x27;</span><br>    <span class="hljs-keyword">return</span> full_name.title()<br><br>musician = get_formatted_name(<span class="hljs-string">&#x27;jimi&#x27;</span>, <span class="hljs-string">&#x27;hendrix&#x27;</span>)<br><span class="hljs-built_in">print</span>(musician)<br>Jimi Hendrix <br></code></pre></td></tr></table></figure>
<p><strong>让实参变成可选</strong></p>
<p>就是先设置参数的默认值，但这个默认值是一个空值。不需要的时候就不会出现，需要的时候只需要在调用的时候传递一个参数就可以。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_formatted_name</span>(<span class="hljs-params">first_name, last_name, middle_name=<span class="hljs-string">&#x27;&#x27;</span></span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;返回标准格式的姓名&#x27;&#x27;&#x27;</span><br>    full_name = <span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;first_name&#125;</span> <span class="hljs-subst">&#123;last_name&#125;</span> <span class="hljs-subst">&#123;middle_name&#125;</span>&#x27;</span><br>    <span class="hljs-keyword">return</span> full_name.title()<br><br>musician = get_formatted_name(<span class="hljs-string">&#x27;jimi&#x27;</span>, <span class="hljs-string">&#x27;hendrix&#x27;</span>)<br><span class="hljs-built_in">print</span>(musician)<br>Jimi Hendrix <br><br>musician = get_formatted_name(<span class="hljs-string">&#x27;jimi&#x27;</span>, <span class="hljs-string">&#x27;hendrix&#x27;</span>, <span class="hljs-string">&#x27;YYY&#x27;</span>)<br><span class="hljs-built_in">print</span>(musician)<br>Jimi Hendrix Yyy<br></code></pre></td></tr></table></figure>
<p><strong>返回字典</strong></p>
<p>这里有个小小的细节，就是 age=None 是一个布尔值并且是 False 。意思就是这个参数并没有值返回 False 。如果为这个参数传递了一个值，它就返回 True 。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">build_person</span>(<span class="hljs-params">first_name, last_name, age=<span class="hljs-literal">None</span></span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;返回一个字典，其中包含一个人的信息&#x27;&#x27;&#x27;</span><br>    person = &#123;<span class="hljs-string">&#x27;first&#x27;</span>: first_name, <span class="hljs-string">&#x27;last&#x27;</span>: last_name&#125;<br>    <span class="hljs-keyword">if</span> age:<br>        person[<span class="hljs-string">&#x27;age&#x27;</span>] = age<br>    <span class="hljs-keyword">return</span> person<br><br>musician = build_person(<span class="hljs-string">&#x27;jimi&#x27;</span>, <span class="hljs-string">&#x27;hendeix&#x27;</span>)<br><span class="hljs-built_in">print</span>(musician)<br>&#123;<span class="hljs-string">&#x27;first&#x27;</span>: <span class="hljs-string">&#x27;jimi&#x27;</span>, <span class="hljs-string">&#x27;last&#x27;</span>: <span class="hljs-string">&#x27;hendeix&#x27;</span>&#125;<br><br>musician = build_person(<span class="hljs-string">&#x27;jimi&#x27;</span>, <span class="hljs-string">&#x27;hendeix&#x27;</span>, age=<span class="hljs-number">36</span>)<br><span class="hljs-built_in">print</span>(musician)<br>&#123;<span class="hljs-string">&#x27;first&#x27;</span>: <span class="hljs-string">&#x27;jimi&#x27;</span>, <span class="hljs-string">&#x27;last&#x27;</span>: <span class="hljs-string">&#x27;hendeix&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">36</span>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>结合使用函数和 while 循环</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_formatted_name</span>(<span class="hljs-params">first_name, last_name, middle_name=<span class="hljs-string">&#x27;&#x27;</span></span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;返回标准格式的姓名&#x27;&#x27;&#x27;</span><br>    full_name = <span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;first_name&#125;</span> <span class="hljs-subst">&#123;last_name&#125;</span> <span class="hljs-subst">&#123;middle_name&#125;</span>&#x27;</span><br>    <span class="hljs-keyword">return</span> full_name.title()<br><br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nPleasr tell me your name:&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;(enter &#x27;q&#x27; at any time to quit.)&quot;</span>)<br><br>    f_name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;你姓什么：&quot;</span>)<br>    <span class="hljs-keyword">if</span> f_name == <span class="hljs-string">&#x27;q&#x27;</span>:<br>        <span class="hljs-keyword">break</span><br>    l_name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;你的名字是什么：&quot;</span>)<br>    <span class="hljs-keyword">if</span> l_name == <span class="hljs-string">&#x27;q&#x27;</span>:<br>        <span class="hljs-keyword">break</span><br><br>    full_name = get_formatted_name(f_name, l_name)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;你好, <span class="hljs-subst">&#123;full_name&#125;</span>&quot;</span>)<br><br>Pleasr tell me your name:<br>(enter <span class="hljs-string">&#x27;q&#x27;</span> at <span class="hljs-built_in">any</span> time to quit.)<br>你姓什么：yao<br>你的名字是什么：ming<br>你好, Yao Ming <br><br>Pleasr tell me your name:<br>(enter <span class="hljs-string">&#x27;q&#x27;</span> at <span class="hljs-built_in">any</span> time to quit.)<br>你姓什么：q<br></code></pre></td></tr></table></figure>
<h3 id="传递列表">传递列表</h3>
<p>将列表传递给函数后，函数就能直接访问其内容，进行修改等等操作。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">greet_users</span>(<span class="hljs-params">names</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;向列表中的每个用户发出简单的问候&#x27;&#x27;&#x27;</span><br>    <span class="hljs-keyword">for</span> name <span class="hljs-keyword">in</span> names:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Hello, %s!&#x27;</span> % name)<br><br>username = [<span class="hljs-string">&#x27;zqten&#x27;</span>, <span class="hljs-string">&#x27;zhengjizhong&#x27;</span>, <span class="hljs-string">&#x27;zhengkainan&#x27;</span>, <span class="hljs-string">&#x27;zhouhuarong&#x27;</span>]<br>greet_users(username)<br><br>Hello, zqten!<br>Hello, zhengjizhong!<br>Hello, zhengkainan!<br>Hello, zhouhuarong!<br></code></pre></td></tr></table></figure>
<p><strong>在函数中修改列表</strong>这个程序演示了一个概念：每个函数都应只负责一项具体工作。这有助于将复杂的任务分解成一系列简单的步骤。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs python">unprinted_designs = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]<br>completed_models = []<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">print_models</span>(<span class="hljs-params">unprinted_designs, completed_models</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">    模拟打印每个数字，直到没有未打印的数字为止</span><br><span class="hljs-string">    打印每个数字后，都将其移到列表completed_models中</span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br>    <span class="hljs-keyword">while</span> unprinted_designs:<br>        current_design = unprinted_designs.pop(<span class="hljs-number">0</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Printing model: %s&#x27;</span> % current_design)<br>        completed_models.append(current_design)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">show_completed_models</span>(<span class="hljs-params">completed_models</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;显示打印好的所有数字&#x27;&#x27;&#x27;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nThe following models have been printed:&#x27;</span>)<br>    <span class="hljs-keyword">for</span> completed_model <span class="hljs-keyword">in</span> completed_models:<br>        <span class="hljs-built_in">print</span>(completed_model, end=<span class="hljs-string">&#x27; &#x27;</span>)<br><br>print_models(unprinted_designs, completed_models)<br>show_completed_models(completed_models)<br><span class="hljs-built_in">print</span>(unprinted_designs)<br><br>Printing model: <span class="hljs-number">1</span><br>Printing model: <span class="hljs-number">2</span><br>Printing model: <span class="hljs-number">3</span><br>Printing model: <span class="hljs-number">4</span><br>Printing model: <span class="hljs-number">5</span><br>Printing model: <span class="hljs-number">6</span><br>Printing model: <span class="hljs-number">7</span><br>Printing model: <span class="hljs-number">8</span><br>Printing model: <span class="hljs-number">9</span><br>Printing model: <span class="hljs-number">10</span><br><br>The following models have been printed:<br><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span> <span class="hljs-number">9</span> <span class="hljs-number">10</span> []<br><span class="hljs-comment"># 如果不希望传递后列表为空，可以使用副本传递参数 [:] 切片传递</span><br>print_models(unprinted_designs[:], completed_models)<br>show_completed_models(completed_models)<br><span class="hljs-built_in">print</span>(unprinted_designs)<br><br>Printing model: <span class="hljs-number">1</span><br>Printing model: <span class="hljs-number">2</span><br>Printing model: <span class="hljs-number">3</span><br>Printing model: <span class="hljs-number">4</span><br>Printing model: <span class="hljs-number">5</span><br>Printing model: <span class="hljs-number">6</span><br>Printing model: <span class="hljs-number">7</span><br>Printing model: <span class="hljs-number">8</span><br>Printing model: <span class="hljs-number">9</span><br>Printing model: <span class="hljs-number">10</span><br><br>The following models have been printed:<br><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span> <span class="hljs-number">9</span> <span class="hljs-number">10</span> [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]<br></code></pre></td></tr></table></figure>
<h3 id="传递任意数量的参数">传递任意数量的参数</h3>
<p>“ * ” 带形参名中的星号让Python创建一个名为形参名的元组，该元组包含函数收到的所有值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">make_pizza</span>(<span class="hljs-params">*toppings</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;比如概述要制作的披萨&#x27;&#x27;&#x27;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\nMaking a pizza with the following toppings:&#x27;</span>)<br>    <span class="hljs-keyword">for</span> topping <span class="hljs-keyword">in</span> toppings:<br>        <span class="hljs-built_in">print</span>(topping)<br><br>make_pizza(<span class="hljs-string">&#x27;aaa&#x27;</span>)<br>make_pizza(<span class="hljs-string">&#x27;mushrooms&#x27;</span>, <span class="hljs-string">&#x27;extra cheese&#x27;</span>)<br><br>Making a pizza <span class="hljs-keyword">with</span> the following toppings:<br>aaa<br><br>Making a pizza <span class="hljs-keyword">with</span> the following toppings:<br>mushrooms<br>extra cheese<br></code></pre></td></tr></table></figure>
<p><strong>结合使用位置实参和任意数量的实参</strong></p>
<p>如果要让函数接受不同类型的实参，必须在函数定义中将接纳任意数量实参的形参放在最后。Python先匹配位置和关键字实参，再将余下的实参都收集到最后一个形参中。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">make_pizza</span>(<span class="hljs-params">size, *toppings</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;比如概述要制作的披萨&#x27;&#x27;&#x27;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;\nMaking a <span class="hljs-subst">&#123;size&#125;</span>-inch pizza with the following toppings:&#x27;</span>)<br>    <span class="hljs-keyword">for</span> topping <span class="hljs-keyword">in</span> toppings:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;- <span class="hljs-subst">&#123;topping&#125;</span>&#x27;</span>)<br><br>make_pizza(<span class="hljs-number">16</span>, <span class="hljs-string">&#x27;aaa&#x27;</span>)<br>make_pizza(<span class="hljs-number">19</span>, <span class="hljs-string">&#x27;mushrooms&#x27;</span>, <span class="hljs-string">&#x27;extra cheese&#x27;</span>)<br><br>Making a <span class="hljs-number">16</span>-inch pizza <span class="hljs-keyword">with</span> the following toppings:<br>- aaa<br><br>Making a <span class="hljs-number">19</span>-inch pizza <span class="hljs-keyword">with</span> the following toppings:<br>- mushrooms<br>- extra cheese<br></code></pre></td></tr></table></figure>
<p><strong>使用任意数量的关键字实参</strong></p>
<p>“ ** ” 带形参名中的两个星号让Python创建一个名为形参名的字典，该字典包含函数收到的所有的键值对。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">build_profile</span>(<span class="hljs-params">first, last, **user_info</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;创建一个字典，其中包含我们知道的有关用户的一切&#x27;&#x27;&#x27;</span><br>    user_info[<span class="hljs-string">&#x27;first_name&#x27;</span>] = first<br>    user_info[<span class="hljs-string">&#x27;last_name&#x27;</span>] = last<br>    <span class="hljs-keyword">return</span> user_info<br><br>user_profile = build_profile(<br>    <span class="hljs-string">&#x27;zheng&#x27;</span>, <span class="hljs-string">&#x27;ji zhong&#x27;</span>, age=<span class="hljs-number">11</span>, height=<span class="hljs-string">&#x27;147cm&#x27;</span>, weight=<span class="hljs-string">&#x27;48kg&#x27;</span>)<br><span class="hljs-built_in">print</span>(user_profile)<br>&#123;<span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">11</span>, <span class="hljs-string">&#x27;height&#x27;</span>: <span class="hljs-string">&#x27;147cm&#x27;</span>, <span class="hljs-string">&#x27;weight&#x27;</span>: <span class="hljs-string">&#x27;48kg&#x27;</span>, <span class="hljs-string">&#x27;first_name&#x27;</span>: <span class="hljs-string">&#x27;zheng&#x27;</span>, <span class="hljs-string">&#x27;last_name&#x27;</span>: <span class="hljs-string">&#x27;ji zhong&#x27;</span>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="将函数存储在模块中">将函数存储在模块中</h3>
<p>将函数存储在称为模块的独立文件中，再将模块导入（import）主程序。可以让代码看起来容易理解。</p>
<p><strong>导入整个模块</strong></p>
<p>要让函数是可导入的，得先创建模块。模块是扩展名为 .py 的文件。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pizza<br>pizza.make_pizza(<span class="hljs-number">12</span>, <span class="hljs-string">&#x27;zhu rou&#x27;</span>)<br>pizza.make_pizza(<span class="hljs-number">17</span>, <span class="hljs-string">&#x27;niu rou&#x27;</span>, <span class="hljs-string">&#x27;bai cai&#x27;</span>)<br><br>Making a <span class="hljs-number">12</span>-inch pizza <span class="hljs-keyword">with</span> the following toppings:<br>- zhu rou<br><br>Making a <span class="hljs-number">17</span>-inch pizza <span class="hljs-keyword">with</span> the following toppings:<br>- niu rou<br>- bai cai<br></code></pre></td></tr></table></figure>
<p><strong>导入特定的函数</strong></p>
<p>只想导入模块中的特定函数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pizza <span class="hljs-keyword">import</span> make_pizza<br><br>make_pizza(<span class="hljs-number">12</span>, <span class="hljs-string">&#x27;zhu rou&#x27;</span>)<br>make_pizza(<span class="hljs-number">16</span>,<span class="hljs-string">&#x27;niu rou&#x27;</span>, <span class="hljs-string">&#x27;bai cai&#x27;</span>)<br><br>Making a <span class="hljs-number">12</span>-inch pizza <span class="hljs-keyword">with</span> the following toppings:<br>- zhu rou<br><br>Making a <span class="hljs-number">16</span>-inch pizza <span class="hljs-keyword">with</span> the following toppings:<br>- niu rou<br>- bai cai<br></code></pre></td></tr></table></figure>
<p><strong>使用 as 给函数指定别名</strong></p>
<p>如果要导入的函数的名称太长或者可能与程序中的其他名称有冲突，可指定简短而独一无二的别名。这个方法也可以应用到给模块指定别名。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pizza <span class="hljs-keyword">import</span> make_pizza <span class="hljs-keyword">as</span> mp<br><br>mp(<span class="hljs-number">12</span>, <span class="hljs-string">&#x27;zhu rou&#x27;</span>)<br>mp(<span class="hljs-number">16</span>, <span class="hljs-string">&#x27;niu rou&#x27;</span>, <span class="hljs-string">&#x27;bai cai&#x27;</span>, <span class="hljs-string">&#x27;fanqie&#x27;</span>)<br><br>Making a <span class="hljs-number">12</span>-inch pizza <span class="hljs-keyword">with</span> the following toppings:<br>- zhu rou<br><br>Making a <span class="hljs-number">16</span>-inch pizza <span class="hljs-keyword">with</span> the following toppings:<br>- niu rou<br>- bai cai<br>- fanqie<br><br><span class="hljs-comment"># 也可以给模块指定别名</span><br><span class="hljs-keyword">import</span> pizza <span class="hljs-keyword">as</span> p<br><br>p.make_pizza(<span class="hljs-number">12</span>, <span class="hljs-string">&#x27;zhu rou&#x27;</span>)<br>p.make_pizza(<span class="hljs-number">16</span>, <span class="hljs-string">&#x27;niu rou&#x27;</span>, <span class="hljs-string">&#x27;bai cai&#x27;</span>, <span class="hljs-string">&#x27;fanqie&#x27;</span>)<br><br>Making a <span class="hljs-number">12</span>-inch pizza <span class="hljs-keyword">with</span> the following toppings:<br>- zhu rou<br><br>Making a <span class="hljs-number">16</span>-inch pizza <span class="hljs-keyword">with</span> the following toppings:<br>- niu rou<br>- bai cai<br>- fanqie<br><br></code></pre></td></tr></table></figure>
<p><strong>导入模块中的所有函数</strong></p>
<p>这种方法一般慎用，因为如果模块中有函数的名称与当前项目中的名称相同，可能导致意想不到的结果。<strong>最好的做法是要么只导入需要使用的函数，要么导入整个模块并使用点号调用</strong>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pizza <span class="hljs-keyword">import</span> *<br><br>make_pizza(<span class="hljs-number">12</span>, <span class="hljs-string">&#x27;zhu rou&#x27;</span>)<br>make_pizza(<span class="hljs-number">16</span>, <span class="hljs-string">&#x27;niu rou&#x27;</span>, <span class="hljs-string">&#x27;bai cai&#x27;</span>, <span class="hljs-string">&#x27;fanqie&#x27;</span>)<br><br>Making a <span class="hljs-number">12</span>-inch pizza <span class="hljs-keyword">with</span> the following toppings:<br>- zhu rou<br><br>Making a <span class="hljs-number">16</span>-inch pizza <span class="hljs-keyword">with</span> the following toppings:<br>- niu rou<br>- bai cai<br>- fanqie<br><br><span class="hljs-comment"># 导入其他文件夹的模块</span><br><span class="hljs-keyword">from</span> 文件夹名称 <span class="hljs-keyword">import</span> 模块<br><span class="hljs-keyword">from</span> 文件夹名称.模块 <span class="hljs-keyword">import</span> 函数<br></code></pre></td></tr></table></figure>
<h3 id="函数编写指南">函数编写指南</h3>
<p>在编写函数时需要牢记几个细节。</p>
<ul>
<li>应给函数指定描述性的名称，且只使用小写字母和下划线。</li>
<li>每个函数都应包含简要阐述其功能的注释。意思就是每个函数都需要编写使用说明的注释。</li>
<li>形参指定默认值时，等号两边不要有空格。</li>
<li>如果程序或模块包含多个函数，可以使用两个空行将函数隔开。</li>
<li>所有的 import 语句都应该放在文件开头。唯一的例外是，你要在文件开头编写整个程序的注释。</li>
<li>导入自己边学的模块时，尽量把模块和程序放在一个文件夹。</li>
</ul>
<h3 id="小结-v6">小结</h3>
<p>本章学习了如何编写函数，以及如何传递实参，让函数能够访问完成工作所需的信息。然后学习了如何使用位置实参和关键字实参，以及如何接受任意数量的实参，学习了显示输出的函数和返回值的函数，知道了如何将函数与列表、字典、if、语句和 while 循环结合起来使用，以及如何将函数存储在称为模块的独立文件中，让程序文件更简单、更易于理解。最后，了解了函数编写指南，遵循这些指南可让程序始终保持良好的结构。<br>
程序员的目标之一是编写简单的代码来完成任务，而函数有助于实现这样的目标。</p>
<h2 id="第八章-类">第八章 类</h2>
<p>面向对象编程（object-oriented-programming, OOP）是最有效的软件编写方法之一。在基于类创建对象时，每个对象都自动具备类定义的通用行为。然后，你可根据需要赋予每个对象独特的个性。根据类来创建对象称为<strong>实例化</strong>，这让你能够使用类的实例。</p>
<p>面相对象变成有助于你像程序员那样看世界，并且真正明白自己编写的代码：不仅是各行代码的作用，还有代码背后更宏大的概念。了解类背后的概念可培养逻辑思维能力，让你能够通过编写程序来解决遇到的几乎任何问题。</p>
<h3 id="创建和使用类">创建和使用类</h3>
<p><strong>创建Dog类</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 创建Dog类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span>:<br>    <span class="hljs-string">&#x27;&#x27;&#x27;模拟小狗的简单尝试&#x27;&#x27;&#x27;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, age</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;初始化属性name和age&#x27;&#x27;&#x27;</span><br>        <span class="hljs-variable language_">self</span>.name = name<br>        <span class="hljs-variable language_">self</span>.age = age<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">sit</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;模拟小狗坐下&#x27;&#x27;&#x27;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;self.name&#125;</span> is now sitting.&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">roll_over</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;模拟小狗打滚&#x27;&#x27;&#x27;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;self.name&#125;</span> rolled over.&quot;</span>)<br></code></pre></td></tr></table></figure>
<p>“<strong>init</strong>()”方法是类的初始化方法，类中的函数称为方法。这个方法的开头和结尾各有两个下划线，这是一种约定，旨在避免Python默认方法与普通方法发生名称冲突。<br>
这个方法定义成包含三个形参：self 、name、age。这个方法中self 是必不可少，而且必须位于其他形参的前面。self就是类的自身，当我们实例化这个类时，我们传递的参数会通过 self 传递给类自身。<a target="_blank" rel="noopener" href="http://self.name">self.name</a> = name 里面 self 前缀的变量可供类中的所有方法使用。</p>
<p><strong>根据类创建实例</strong></p>
<p>可以将类视为有关如何创建实例的说明。😋</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 创建实例</span><br>my_dog = Dog(<span class="hljs-string">&#x27;duoduo&#x27;</span>, <span class="hljs-number">7</span>)<br><span class="hljs-comment"># my_dog.name 就是访问实例的属性</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;My dog&#x27;s name is <span class="hljs-subst">&#123;my_dog.name&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;My dog&#x27;s age is <span class="hljs-subst">&#123;my_dog.age&#125;</span>&quot;</span>)<br><br>My dog<span class="hljs-string">&#x27;s name is duoduo</span><br><span class="hljs-string">My dog&#x27;</span>s age <span class="hljs-keyword">is</span> <span class="hljs-number">7</span><br><span class="hljs-comment"># 调用方法</span><br>my_dog.sit()<br>my_dog.roll_over()<br><br>duoduo <span class="hljs-keyword">is</span> now sitting.<br>duoduo rolled over.<br><span class="hljs-comment"># 创建多个实例</span><br>your_dog = Dog(<span class="hljs-string">&#x27;Lucy&#x27;</span>, <span class="hljs-number">4</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Your dog&#x27;s name is <span class="hljs-subst">&#123;your_dog.name&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Your dog&#x27;s age is <span class="hljs-subst">&#123;your_dog.age&#125;</span>&quot;</span>)<br>your_dog.sit()<br><br>Your dog<span class="hljs-string">&#x27;s name is Lucy</span><br><span class="hljs-string">Your dog&#x27;</span>s age <span class="hljs-keyword">is</span> <span class="hljs-number">4</span><br>Lucy <span class="hljs-keyword">is</span> now sitting.<br></code></pre></td></tr></table></figure>
<h3 id="使用类和实例">使用类和实例</h3>
<p><strong>Car 类</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Car类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span>:<br>    <span class="hljs-string">&#x27;&#x27;&#x27;模拟汽车的简单尝试&#x27;&#x27;&#x27;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, make, model, year</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;初始化描述汽车属性&#x27;&#x27;&#x27;</span><br>        <span class="hljs-variable language_">self</span>.make = make<br>        <span class="hljs-variable language_">self</span>.model = model<br>        <span class="hljs-variable language_">self</span>.year = year<br><span class="hljs-comment"># 给属性默认值</span><br>        <span class="hljs-variable language_">self</span>.odometer = <span class="hljs-number">0</span><br>        <span class="hljs-variable language_">self</span>.oli = <span class="hljs-number">240</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_descriptive_name</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;返回格式规范的描述性信息&#x27;&#x27;&#x27;</span><br>        long_name = <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;self.year&#125;</span>年 <span class="hljs-subst">&#123;self.make&#125;</span>生产<span class="hljs-subst">&#123;self.model&#125;</span>&quot;</span><br>        <span class="hljs-keyword">return</span> long_name.title()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">read_odometer</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;返回汽车里程数&#x27;&#x27;&#x27;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;这两车已经行驶了<span class="hljs-subst">&#123;self.odometer&#125;</span>公里了。&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.odometer<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">update_odometer</span>(<span class="hljs-params">self, mileage</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;设置汽车里程数&#x27;&#x27;&#x27;</span><br>        <span class="hljs-keyword">if</span> mileage &gt;= <span class="hljs-variable language_">self</span>.odometer:<br>            <span class="hljs-variable language_">self</span>.odometer = mileage<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;这辆车已经行驶了<span class="hljs-subst">&#123;self.odometer&#125;</span>公里了。&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;你不能往回设置公里数&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">increment_odometer</span>(<span class="hljs-params">self, mileage</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;增加汽车里程数&#x27;&#x27;&#x27;</span><br>        <span class="hljs-variable language_">self</span>.odometer += mileage<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;这辆车已经行驶了<span class="hljs-subst">&#123;self.odometer&#125;</span>公里了。&quot;</span>)<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">car_oli_v</span>(<span class="hljs-params">self, oli</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;描述车辆油箱的容积&#x27;&#x27;&#x27;</span><br>        <span class="hljs-variable language_">self</span>.oli = oli<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;这辆车的油箱容积是<span class="hljs-subst">&#123;self.oli&#125;</span>L.&#x27;</span>)<br><br>my_new_car = Car(<span class="hljs-string">&#x27;奥迪汽车公司&#x27;</span>, <span class="hljs-string">&#x27;奥迪A4&#x27;</span>, <span class="hljs-string">&#x27;2003&#x27;</span>)<br><span class="hljs-built_in">print</span>(my_new_car.get_descriptive_name())<br><span class="hljs-comment"># 修改属性值</span><br>my_new_car.odometer = <span class="hljs-number">1</span><br>my_new_car.read_odometer()<br><span class="hljs-comment"># 通过方法修改属性值</span><br>my_new_car.update_odometer(<span class="hljs-number">34</span>)<br>my_new_car.increment_odometer(<span class="hljs-number">12</span>)<br>my_new_car.update_odometer(<span class="hljs-number">12</span>)<br><br><span class="hljs-number">2003</span>年奥迪汽车公司生产奥迪A4<br>这两车已经行驶了<span class="hljs-number">1</span>公里了。<br>这两车已经行驶了<span class="hljs-number">34</span>公里了。<br>这辆车已经行驶了<span class="hljs-number">46</span>公里了。<br>你不能往回设置公里数<br></code></pre></td></tr></table></figure>
<h3 id="继承">继承</h3>
<p>编写类的时候并非总是要从头开始，如果要编写的类是一个已经存在的类的特殊版本，可以使用<strong>继承</strong>。当一个类继承另一个类时，将自动获得后者的素有属性和方法。原有类称为<strong>父类</strong>，而新的类称为<strong>子类</strong>。子类不仅继承了父类的所有属性和方法，还可以定义自己的属性和方法。</p>
<p><strong>子类初始化方法</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ElectricCar</span>(<span class="hljs-title class_ inherited__">Car</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;模拟电动汽车&#x27;&#x27;&#x27;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, make, model, year</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;初始化父类属性,在初始化电动汽车特有的属性&#x27;&#x27;&#x27;</span><br>        <span class="hljs-built_in">super</span>().__init__(make, model, year)<br><br><br>my_leaf = ElectricCar(<span class="hljs-string">&#x27;nissan&#x27;</span>, <span class="hljs-string">&#x27;leaf&#x27;</span>, <span class="hljs-string">&#x27;2024&#x27;</span>)<br><span class="hljs-built_in">print</span>(my_leaf.get_descriptive_name())<br><br><span class="hljs-number">2024</span>年Nissan生产Leaf<br></code></pre></td></tr></table></figure>
<p><strong>给子类定义属性和方法</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ElectricCar</span>(<span class="hljs-title class_ inherited__">Car</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;模拟电动汽车&#x27;&#x27;&#x27;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, make, model, year</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;初始化父类属性,在初始化电动汽车特有的属性&#x27;&#x27;&#x27;</span><br>        <span class="hljs-built_in">super</span>().__init__(make, model, year)<br>        <span class="hljs-variable language_">self</span>.battery_size = <span class="hljs-number">40</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">describe_battery</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;打印一条描述电池容量的消息&#x27;&#x27;&#x27;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;This car has a <span class="hljs-subst">&#123;self.battery_size&#125;</span>-KWh battery.&#x27;</span>)<br><br><br>my_leaf = ElectricCar(<span class="hljs-string">&#x27;nissan&#x27;</span>, <span class="hljs-string">&#x27;leaf&#x27;</span>, <span class="hljs-string">&#x27;2024&#x27;</span>)<br><span class="hljs-built_in">print</span>(my_leaf.get_descriptive_name())<br>my_leaf.describe_battery()<br><br><span class="hljs-number">2024</span>年Nissan生产Leaf<br>This car has a <span class="hljs-number">40</span>-KWh battery.<br></code></pre></td></tr></table></figure>
<p><strong>重写父类中的方法</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ElectricCar</span>(<span class="hljs-title class_ inherited__">Car</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;模拟电动汽车&#x27;&#x27;&#x27;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, make, model, year</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;初始化父类属性,在初始化电动汽车特有的属性&#x27;&#x27;&#x27;</span><br>        <span class="hljs-built_in">super</span>().__init__(make, model, year)<br>        <span class="hljs-variable language_">self</span>.battery_size = <span class="hljs-number">40</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">describe_battery</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;打印一条描述电池容量的消息&#x27;&#x27;&#x27;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;This car has a <span class="hljs-subst">&#123;self.battery_size&#125;</span>-KWh battery.&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">car_oli_v</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;电动汽车没有油箱&#x27;&#x27;&#x27;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;电动汽车没有油箱&quot;</span>)<br><br><br>my_leaf = ElectricCar(<span class="hljs-string">&#x27;nissan&#x27;</span>, <span class="hljs-string">&#x27;leaf&#x27;</span>, <span class="hljs-string">&#x27;2024&#x27;</span>)<br><span class="hljs-built_in">print</span>(my_leaf.get_descriptive_name())<br>my_leaf.describe_battery()<br>my_leaf.car_oli_v()<br><br><span class="hljs-number">2024</span>年Nissan生产Leaf<br>This car has a <span class="hljs-number">40</span>-KWh battery.<br>电动汽车没有油箱<br></code></pre></td></tr></table></figure>
<p><strong>将实例用作属性</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ElectricCar</span>(<span class="hljs-title class_ inherited__">Car</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;模拟电动汽车&#x27;&#x27;&#x27;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, make, model, year</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;初始化父类属性,在初始化电动汽车特有的属性&#x27;&#x27;&#x27;</span><br>        <span class="hljs-built_in">super</span>().__init__(make, model, year)<br>        <span class="hljs-variable language_">self</span>.battery = Battery()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">car_oli_v</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;电动汽车没有油箱&#x27;&#x27;&#x27;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;电动汽车没有油箱&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Battery</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, battery_size=<span class="hljs-number">40</span></span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;初始化电池的属性&#x27;&#x27;&#x27;</span><br>        <span class="hljs-variable language_">self</span>.battery_size = battery_size<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">describe_battery</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;打印一条描述电池容量的消息&#x27;&#x27;&#x27;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;This car has a <span class="hljs-subst">&#123;self.battery_size&#125;</span>-KWh battery.&#x27;</span>)<br><br><br>my_leaf = ElectricCar(<span class="hljs-string">&#x27;nissan&#x27;</span>, <span class="hljs-string">&#x27;leaf&#x27;</span>, <span class="hljs-string">&#x27;2024&#x27;</span>)<br><span class="hljs-built_in">print</span>(my_leaf.get_descriptive_name())<br>my_leaf.battery.describe_battery()<br><br><span class="hljs-number">2024</span>年Nissan生产Leaf<br>This car has a <span class="hljs-number">40</span>-KWh battery.<br></code></pre></td></tr></table></figure>
<h3 id="导入类">导入类</h3>
<p>主要目的是让文件整洁，我们可以将类存储在模块中，然后在主程序导入所需的模块。我们需要整理一下代码，把上面我们学的三个类都复制到一个文件，命名为 <a target="_blank" rel="noopener" href="http://car.py">car.py</a> 。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Car类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span>:<br>    <span class="hljs-string">&#x27;&#x27;&#x27;模拟汽车的简单尝试&#x27;&#x27;&#x27;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, make, model, year</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;初始化描述汽车属性&#x27;&#x27;&#x27;</span><br>        <span class="hljs-variable language_">self</span>.make = make<br>        <span class="hljs-variable language_">self</span>.model = model<br>        <span class="hljs-variable language_">self</span>.year = year<br>        <span class="hljs-variable language_">self</span>.odometer = <span class="hljs-number">0</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_descriptive_name</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;返回格式规范的描述性信息&#x27;&#x27;&#x27;</span><br>        long_name = <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;self.year&#125;</span>年<span class="hljs-subst">&#123;self.make&#125;</span>生产<span class="hljs-subst">&#123;self.model&#125;</span>&quot;</span><br>        <span class="hljs-keyword">return</span> long_name.title()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">read_odometer</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;返回汽车里程数&#x27;&#x27;&#x27;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;这辆车已经行驶了<span class="hljs-subst">&#123;self.odometer&#125;</span>公里了。&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.odometer<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">update_odometer</span>(<span class="hljs-params">self, mileage</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;设置汽车里程数&#x27;&#x27;&#x27;</span><br>        <span class="hljs-keyword">if</span> mileage &gt;= <span class="hljs-variable language_">self</span>.odometer:<br>            <span class="hljs-variable language_">self</span>.odometer = mileage<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;这辆车已经行驶了<span class="hljs-subst">&#123;self.odometer&#125;</span>公里了。&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;你不能往回设置公里数&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">increment_odometer</span>(<span class="hljs-params">self, mileage</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;增加汽车里程数&#x27;&#x27;&#x27;</span><br>        <span class="hljs-variable language_">self</span>.odometer += mileage<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;这辆车已经行驶了<span class="hljs-subst">&#123;self.odometer&#125;</span>公里了。&quot;</span>)<br>        <br><span class="hljs-comment"># 电池模组</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Battery</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, battery_size=<span class="hljs-number">40</span>, car_model_isoli=<span class="hljs-literal">False</span></span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;初始化电池的属性&#x27;&#x27;&#x27;</span><br>        <span class="hljs-variable language_">self</span>.battery_size = battery_size<br>        <span class="hljs-string">&#x27;&#x27;&#x27;默认是电动汽车,如果是汽油车可以设置会Ture.&#x27;&#x27;&#x27;</span><br>        <span class="hljs-variable language_">self</span>.car_model_isoli = car_model_isoli<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">describe_battery</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;打印一条描述电池容量的消息&#x27;&#x27;&#x27;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.car_model_isoli <span class="hljs-keyword">is</span> <span class="hljs-literal">True</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;这是一辆油车，没有电池.&#x27;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;This car has a <span class="hljs-subst">&#123;self.battery_size&#125;</span>-KWh battery.&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">update_battery</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;升级电池容量&#x27;&#x27;&#x27;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.battery_size != <span class="hljs-number">65</span>:<br>            <span class="hljs-variable language_">self</span>.battery_size = <span class="hljs-number">65</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_range</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;打印一条消息，指出汽车的续航里程&#x27;&#x27;&#x27;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.battery_size == <span class="hljs-number">40</span>:<br>            <span class="hljs-built_in">range</span> = <span class="hljs-number">150</span><br>        <span class="hljs-keyword">elif</span> <span class="hljs-variable language_">self</span>.battery_size == <span class="hljs-number">65</span>:<br>            <span class="hljs-built_in">range</span> = <span class="hljs-number">225</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;这辆车的续航里程为<span class="hljs-subst">&#123;<span class="hljs-built_in">range</span>&#125;</span>公里.&#x27;</span>)<br><br><span class="hljs-comment"># 电动车</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">ElectricCar</span>(<span class="hljs-title class_ inherited__">Car</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;模拟电动汽车&#x27;&#x27;&#x27;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, make, model, year</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;初始化父类属性,在初始化电动汽车特有的属性&#x27;&#x27;&#x27;</span><br>        <span class="hljs-built_in">super</span>().__init__(make, model, year)<br>        <span class="hljs-variable language_">self</span>.battery = Battery()<br></code></pre></td></tr></table></figure>
<p><strong>导入单个类</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> car <span class="hljs-keyword">import</span> Car<br></code></pre></td></tr></table></figure>
<p><strong>导入多个类</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> car <span class="hljs-keyword">import</span> Car, ElectricCar<br></code></pre></td></tr></table></figure>
<p><strong>导入整个模块</strong></p>
<p>这里我把上面的代码分成了两个文件，Car类单独储存成 <a target="_blank" rel="noopener" href="http://car.py">car.py</a> ，电池模组和电动车储存为 electric_car.py 。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> car<br><span class="hljs-comment"># 用法就是用点引用该模块的类</span><br>my_car = car.Car(<span class="hljs-string">&quot;柳州五菱&quot;</span>, <span class="hljs-string">&quot;五菱之光&quot;</span>, <span class="hljs-number">2008</span>)<br><br><span class="hljs-comment"># 还有下面这种方法，但是不推荐用，因为可能会引起很多难以诊断的错误，比如出现同名的类</span><br><span class="hljs-comment"># 这种方法是导入模块的所有类</span><br><span class="hljs-keyword">from</span> car <span class="hljs-keyword">import</span> *<br></code></pre></td></tr></table></figure>
<p><strong>使用别名</strong></p>
<p>就是给导入的模块或类更改使用名，这并不会影响该模块和类的代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 给模块使用别名</span><br><span class="hljs-keyword">import</span> electric_car <span class="hljs-keyword">as</span> ec<br><span class="hljs-comment"># 给类使用别名</span><br><span class="hljs-keyword">from</span> electric_car <span class="hljs-keyword">import</span> ElectricCar <span class="hljs-keyword">as</span> EC<br></code></pre></td></tr></table></figure>
<h3 id="合适的工作流程">合适的工作流程</h3>
<p>首先尝试在一个文件中完成所有工作，确定一切都能正确运行后，在将类移到独立的模块中。</p>
<p>这里讲一下 <strong>VMC</strong> 模式：</p>
<ul>
<li>V： 就是视窗，用户界面等可视化的代码。</li>
<li>M：就是模块或类等等的代码。</li>
<li>C：就是整个程序的运行逻辑，流程控制等等的代码。</li>
</ul>
<p>这个模式可以简单的理解为建立三个文件夹，分别存放这三种类型的文件。这样可以让自己的代码更加简洁高效，别人理解也更容易。</p>
<h3 id="Python标准库">Python标准库</h3>
<p>Python标准库是一组模块，在安装Python时已经包含在内了。我们可以使用标准可中的任何函数和类。查看Python标准库，可以在命令行输入  <strong>help(“modules”)</strong> 命令。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 随机数模组，返回两个数之间的随机一个数。</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> random <span class="hljs-keyword">import</span> randint<br><span class="hljs-meta">&gt;&gt;&gt; </span>randint(<span class="hljs-number">1</span>,<span class="hljs-number">6</span>)<br><span class="hljs-number">4</span>   <br><span class="hljs-comment"># 返回一个列表里随机一个元素</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> random <span class="hljs-keyword">import</span> choice <br><span class="hljs-meta">&gt;&gt;&gt; </span>players = [<span class="hljs-string">&#x27;aaa&#x27;</span>,<span class="hljs-string">&#x27;bbb&#x27;</span>,<span class="hljs-string">&#x27;ccc&#x27;</span>,<span class="hljs-string">&#x27;ddd&#x27;</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>choice(players)<br><span class="hljs-string">&#x27;ccc&#x27;</span><br></code></pre></td></tr></table></figure>
<h3 id="类的编程风格">类的编程风格</h3>
<p>编写复杂程序时采用以下几项：</p>
<ul>
<li>类名：驼峰命名法。例：MyNewCar 。类名不使用下划线。</li>
<li>模块名和实例名都采用全小写格式，并在单词之间采用下划线。</li>
<li>每个类都要在定义后面和函数一样需要描述类功能的文档字符串。</li>
<li>当需要导入标准库中的模块和自己编写的模块时，优先导入标准库中的模块，在导入自己编写的模块。</li>
</ul>
<h3 id="小结-v7">小结</h3>
<p>本章我们学习了如何编写类，如何使用属性在类中存储的信息，以及如何编写方法让类具备所需的行为。然后学习了 init 初始化方法。了解了如何修改实例的属性，包括直接修改以及通过方法修改。还了解到使用继承可简化相关类的创建工作，将一个类的实例用作另一个类的属性能让类更简洁。<br>
明白了，通过将类存储在模块（文件）中，并在需要使用这些类的文件中导入它们，可让项目变的更简洁。开始了解python标准库，还看了一个random模块，最后学习了编写类时应遵循的Python约定。</p>
<h2 id="第九章-文件和异常">第九章 文件和异常</h2>
<p>处理文件，让程序能够快速地分析大量数据；错误处理，避免程序在面对意外情况时崩溃；异常是Python创建特殊对象，用于管理程序运行时出现的错误；还将学习使用 json 模块保存用户数据，以免这些数据在程序结束运行后丢失。</p>
<h3 id="读取文件">读取文件</h3>
<p>读取文件对数据分析应用程序很有用。要使用文本文件中的信息，首先需要将信息读取到内存中。既可以一次性读取文件的全部内容，也可以逐行读取。</p>
<p><strong>读取文件的全部内容</strong></p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs tex"><span class="hljs-params">#</span> 这是一个txt文件<br>3.1415926535<br>  8979323846<br>  2643383279<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 读取文件</span><br><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><span class="hljs-comment"># 这里值得注意的是VScode里面用的斜杠是反的</span><br>path = Path(<span class="hljs-string">&quot;E:/text_files/pi_digits.txt&quot;</span>)<br>contents = path.read_text()<br><span class="hljs-comment"># 删除文档中的空格</span><br><span class="hljs-comment"># contents = contents.strip()</span><br><span class="hljs-built_in">print</span>(contents)<br><br><span class="hljs-number">3.1415926535</span><br>  <span class="hljs-number">8979323846</span><br>  <span class="hljs-number">2643383279</span><br></code></pre></td></tr></table></figure>
<p><strong>相对文件路径和绝对文件路径</strong></p>
<p><strong>相对文件路径</strong>让 Python 到相对于当前运行的程序所在目录的指定位置去查找。比如上面的文件可以这样读取</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br>path = Path(<span class="hljs-string">&quot;text_files/pi_digits.txt&quot;</span>)<br></code></pre></td></tr></table></figure>
<p><strong>绝对文件路径</strong>可以读取系统中任何地方的文件。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br>path = Path(<span class="hljs-string">&quot;E:/text_files/pi_digits.txt&quot;</span>)<br></code></pre></td></tr></table></figure>
<p>现在最简单的做法是，要么将数据文件存储在程序文件所在的目录中，要么将其存储在存续文件所在目录下的一个文件夹中。</p>
<p><strong>注意</strong>：在显示文件路径时，windows 系统使用反斜杠（ \ ）而不是斜杠（ / ）但是你在代码中应该始终使用斜杠（ / ），即便在windows系统中也是如此。在与你或其他用户的系统交互时，pathlib 库会自动使用正确的路径表示方法。</p>
<p><strong>访问文件中的各行</strong></p>
<p>使用 <strong>splitlines()</strong> 方法可以将字符串转换为一系列行，在使用 for 循环遍历文件中的每一行，splitlines() 方法返回一个列表，其中包含文件中所有的行。可以把这个列表赋值给变量。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><br>path = Path(<span class="hljs-string">&quot;E:/text_files/pi_digits.txt&quot;</span>)<br>contents = path.read_text()<br>lines = contents.splitlines()<br><br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> lines:<br>    <span class="hljs-built_in">print</span>(line)<br><br><span class="hljs-number">3.1415926535</span><br>  <span class="hljs-number">8979323846</span><br>  <span class="hljs-number">2643383279</span><br></code></pre></td></tr></table></figure>
<p><strong>使用文件的内容</strong></p>
<p>读取文件后才能使用这些数据。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><br>path = Path(<span class="hljs-string">&quot;E:/text_files/pi_digits.txt&quot;</span>)<br>contents = path.read_text()<br>pi_string = <span class="hljs-string">&#x27;&#x27;</span><br>lines = contents.splitlines()<br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> lines:<br>    pi_string += line<br><br><span class="hljs-built_in">print</span>(pi_string)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(pi_string))<br><span class="hljs-number">3.1415926535</span>  <span class="hljs-number">8979323846</span>  <span class="hljs-number">2643383279</span><br><span class="hljs-number">36</span><br><br><span class="hljs-comment"># 删除左边空格</span><br>--snip--<br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> lines:<br>    pi_string += line.lstrip()<br><br><span class="hljs-built_in">print</span>(pi_string)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(pi_string))<br><span class="hljs-number">3.141592653589793238462643383279</span><br><span class="hljs-number">32</span><br></code></pre></td></tr></table></figure>
<p><strong>注意</strong>：读取文本文件时，python 将其中的所有文本都解释为字符串。如果读取的是数，并且要将其作为数字使用，就必须使用 int() 函数将其转换为整数，或者使用 float() 函数将其转为浮点数。</p>
<p><strong>大型文件</strong>可以做切片等列表的操作。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">--snip--<br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> lines:<br>    pi_string += line.lstrip()<br><br><span class="hljs-built_in">print</span>(pi_string[:<span class="hljs-number">10</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(pi_string))<br><span class="hljs-number">3.14159265</span><br><span class="hljs-number">32</span><br></code></pre></td></tr></table></figure>
<p><strong>趣味小练习</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 圆周率中包含你的生日吗</span><br><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><br>path = Path(<span class="hljs-string">&quot;pi_million_digits.txt&quot;</span>)<br>contents = path.read_text()<br><br>pi_string = <span class="hljs-string">&#x27;&#x27;</span><br>lines = contents.splitlines()<br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> lines:<br>    pi_string += line.strip()<br><br>birthday = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;你的生日如(20200506):&quot;</span>)<br><span class="hljs-keyword">if</span> birthday <span class="hljs-keyword">in</span> pi_string:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;圆周率包含了你的生日&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;圆周率没有你的生日哦...&quot;</span>)<br>    <br>你的生日如(<span class="hljs-number">20200506</span>):<span class="hljs-number">20200506</span><br>圆周率没有你的生日哦...<br></code></pre></td></tr></table></figure>
<h3 id="写入文件">写入文件</h3>
<p>保存数据的最简单的方式之一是将其写入文件。</p>
<p><strong>写入一行</strong></p>
<p><strong>注意</strong>：在python调用 <strong>write_text()</strong> 方法时，如果指定文件已存在，这个方法会将其内容<strong>替换</strong>为你要写入的内容。**replace()**方法可以将字符串中的特定单词替换为另一个单词。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 写入一行文字</span><br><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br>path = Path(<span class="hljs-string">&#x27;programming.txt&#x27;</span>)<br>path.write_text(<span class="hljs-string">&quot;hello world&quot;</span>)<br><br>programming.txt<br>hello world<br><span class="hljs-comment"># 替换字符串 replace()</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a = <span class="hljs-string">&#x27;How are you?&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a.replace(<span class="hljs-string">&#x27;you&#x27;</span>,<span class="hljs-string">&#x27;me&#x27;</span>)<br><span class="hljs-string">&#x27;How are me?&#x27;</span><br></code></pre></td></tr></table></figure>
<p><strong>注意</strong>：Python 只能将字符串写入文本，如果要将数值数据存储到文本文件中，须使用 str() 函数将其转换为字符串格式。</p>
<p><strong>写入多行</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br>path = Path(<span class="hljs-string">&#x27;programming.txt&#x27;</span>)<br>contents = <span class="hljs-string">&quot;nihao&quot;</span><br>contents += <span class="hljs-string">&quot;\nwohao&quot;</span><br>contents += <span class="hljs-string">&quot;\ndajiahao&quot;</span><br>path.write_text(contents)<br><br>programming.txt<br>nihao<br>wohao<br>dajiahao<br></code></pre></td></tr></table></figure>
<p><strong>趣味小练习</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 重复写入多个词语</span><br><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br>path = Path(<span class="hljs-string">&quot;guest.txt&quot;</span>)<br>n = <span class="hljs-number">0</span><br>c = <span class="hljs-string">&#x27;&#x27;</span><br><span class="hljs-keyword">while</span> n != <span class="hljs-number">5</span>:<br>    b = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入内容：&quot;</span>)<br>    c += <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;b&#125;</span>\n&quot;</span><br>    n += <span class="hljs-number">1</span><br>    path.write_text(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;c&#125;</span>&quot;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br></code></pre></td></tr></table></figure>
<h3 id="异常">异常</h3>
<p>异常是使用 try-except 代码块处理的。也就是说你运行一段代码，如过出错了会根据你编写的代码执行，如果没有对异常进行处理，程序出错了就会停止。<strong>如果你运行一段代码出错，编辑器会提示你是什么错误，你可以针对这个错误给出处理方法，就像下面的 0 不能作为除数的错误是：ZeroDivisionError</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-number">5</span>/<span class="hljs-number">0</span>)<br>ZeroDivisionError: division by zero<br></code></pre></td></tr></table></figure>
<p><strong>使用 try-except 代码块</strong></p>
<p>当你认为可能会发生错误的时候，可以使用这个代码块来处理可能引发的错误。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-number">5</span>/<span class="hljs-number">0</span>)<br><span class="hljs-keyword">except</span> ZeroDivisionError:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;0不能作为除数。&quot;</span>)<br>    <br><span class="hljs-number">0</span>不能作为除数。<br></code></pre></td></tr></table></figure>
<p><strong>处理 FileNotFoundError 异常</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><br>path = Path(<span class="hljs-string">&quot;alice.txt&quot;</span>)<br><span class="hljs-keyword">try</span>:<br>    contents = path.read_text(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br><span class="hljs-keyword">except</span> FileNotFoundError:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;没有找到这个文件。&quot;</span>)<br><br>没有找到这个文件。<br></code></pre></td></tr></table></figure>
<p><strong>分析文本</strong></p>
<p>split() 方法是把一个很长的字符串转换成很多单词的列表的一个方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><br>path = Path(<span class="hljs-string">&quot;alice.txt&quot;</span>)<br><span class="hljs-keyword">try</span>:<br>    contents = path.read_text(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br><span class="hljs-keyword">except</span> FileNotFoundError:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;没有找到这个文件。&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-comment"># 计算文件大概包含多少个单词</span><br>    words = contents.split()<br>    num_words = <span class="hljs-built_in">len</span>(words)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;The file <span class="hljs-subst">&#123;path&#125;</span> has about <span class="hljs-subst">&#123;num_words&#125;</span> words&quot;</span>)<br></code></pre></td></tr></table></figure>
<p><strong>读取多个文件</strong></p>
<p>利用函数我们可以读取多个文件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">count_words</span>(<span class="hljs-params">path</span>):<br>    <span class="hljs-keyword">try</span>:<br>        contents = path.read_text(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>    <span class="hljs-keyword">except</span> FileNotFoundError:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;没有找到<span class="hljs-subst">&#123;path&#125;</span>这个文件。&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-comment"># 计算文件大概包含多少个单词</span><br>        words = contents.split()<br>        num_words = <span class="hljs-built_in">len</span>(words)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;The file <span class="hljs-subst">&#123;path&#125;</span> has about <span class="hljs-subst">&#123;num_words&#125;</span> words&quot;</span>)<br><br><br>filenames = [<span class="hljs-string">&#x27;alice.txt&#x27;</span>, <span class="hljs-string">&#x27;little_women.txt&#x27;</span>, <span class="hljs-string">&#x27;moby_dick.txt&#x27;</span>, <span class="hljs-string">&#x27;kkk.txt&#x27;</span>]<br><span class="hljs-keyword">for</span> filename <span class="hljs-keyword">in</span> filenames:<br>    path = Path(filename)<br>    count_words(path)<br>   <br>The file alice.txt has about <span class="hljs-number">29594</span> words<br>The file little_women.txt has about <span class="hljs-number">189142</span> words<br>The file moby_dick.txt has about <span class="hljs-number">215864</span> words<br>没有找到kkk.txt这个文件。<br></code></pre></td></tr></table></figure>
<p><strong>静默失败</strong></p>
<p>并非每次错误都需要告诉用户，有时候有错误什么也不做，但是就是让程序继续运行可以使用 pass 语句。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">count_words</span>(<span class="hljs-params">path</span>):<br>    <span class="hljs-keyword">try</span>:<br>        contents = path.read_text(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>    <span class="hljs-keyword">except</span> FileNotFoundError:<br>        <span class="hljs-keyword">pass</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-comment"># 计算文件大概包含多少个单词</span><br>        words = contents.split()<br>        num_words = <span class="hljs-built_in">len</span>(words)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;The file <span class="hljs-subst">&#123;path&#125;</span> has about <span class="hljs-subst">&#123;num_words&#125;</span> words&quot;</span>)<br><br>filenames = [<span class="hljs-string">&#x27;alice.txt&#x27;</span>, <span class="hljs-string">&#x27;little_women.txt&#x27;</span>, <span class="hljs-string">&#x27;moby_dick.txt&#x27;</span>, <span class="hljs-string">&#x27;kkk.txt&#x27;</span>]<br><span class="hljs-keyword">for</span> filename <span class="hljs-keyword">in</span> filenames:<br>    path = Path(filename)<br>    count_words(path)<br><br>The file alice.txt has about <span class="hljs-number">29594</span> words<br>The file little_women.txt has about <span class="hljs-number">189142</span> words<br>The file moby_dick.txt has about <span class="hljs-number">215864</span> words<br></code></pre></td></tr></table></figure>
<h3 id="存储数据">存储数据</h3>
<p>json 模块能够将简单的Python数据结构转换为JSON格式的字符串，并在程序再次运行时从文件中加载数据。</p>
<p>**注意：**JSON格式最初是为 JavaScript 开发的，但后来成为了一种通用格式，被众多语言采用。</p>
<p><strong>json.dumps() 和 json.loads()</strong></p>
<p>json.dumps() 接受一个参数，即要转换为JSON格式的数据。这个函数返回一个字符串。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 存储数据 json.dumps()</span><br><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><span class="hljs-keyword">import</span> json<br><br>number = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]<br><br>path = Path(<span class="hljs-string">&#x27;number.json&#x27;</span>) <span class="hljs-comment"># 文件路径，如果没有就会自动创建这个文件</span><br>contents = json.dumps(number) <span class="hljs-comment"># 数据通过json.dumps()转化文JSON格式，存储在变量contents中</span><br>path.write_text(contents) <span class="hljs-comment"># 把contents中的数据写入number.json这个文件中</span><br><span class="hljs-comment"># number.json文件内容</span><br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]<br><br><span class="hljs-comment"># 读取数据 json.loads()</span><br><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><span class="hljs-keyword">import</span> json<br><br>path = Path(<span class="hljs-string">&#x27;number.json&#x27;</span>) <span class="hljs-comment"># 文件路径，如果没有就会自动创建这个文件</span><br>contents = path.read_text() <span class="hljs-comment"># 把读取的数据存储在变量contents中</span><br>number = json.loads(contents)<span class="hljs-comment"># contents中的数据通过json.loads()转化文JSON格式，并存储在变量number中</span><br><span class="hljs-built_in">print</span>(number)<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]<br></code></pre></td></tr></table></figure>
<p><strong>保存和读取用户生成的数据</strong></p>
<p>保存数据很有必要，因为如果不以某种方式进行存储，用户的信息就会在程序停止运行时丢失。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 保存用户数据</span><br><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><span class="hljs-keyword">import</span> json<br><br>username = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入你的名字：&quot;</span>)<br>path = Path(<span class="hljs-string">&#x27;username.json&#x27;</span>)<br>contents = json.dumps(username)<br>path.write_text(contents, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;我们将储存你的名字。&quot;</span>)<br>请输入你的名字：zqten<br>我们将储存你的名字。<br><span class="hljs-comment"># username.json文件</span><br><span class="hljs-string">&quot;zqten&quot;</span><br><br><span class="hljs-comment"># 读取用户生成的数据</span><br><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><span class="hljs-keyword">import</span> json<br>path = Path(<span class="hljs-string">&quot;username.json&quot;</span>)<br>contents = path.read_text()<br>username = json.loads(contents)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Welcome back <span class="hljs-subst">&#123;username&#125;</span>&quot;</span>)<br>Welcome back zqten<br></code></pre></td></tr></table></figure>
<p>Path 类提供了很多有用的方法。如果指定的文件或文件夹存在，<strong>exists()</strong> 方法返回 True ，否则返回 False 。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><span class="hljs-keyword">import</span> json<br><br>path = Path(<span class="hljs-string">&#x27;username.json&#x27;</span>)<br><span class="hljs-keyword">if</span> path.exists():<br>    contents = path.read_text()<br>    username = json.loads(contents)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Welcome back <span class="hljs-subst">&#123;username&#125;</span>&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    username = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入你的名字：&quot;</span>)<br>    contents = json.dumps(username)<br>    path.write_text(contents, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;我们将储存你的名字。<span class="hljs-subst">&#123;username&#125;</span>&quot;</span>)<br>Welcome back zqten<br></code></pre></td></tr></table></figure>
<p><strong>重构</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 保存用户数据</span><br><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><span class="hljs-keyword">import</span> json<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_stored_username</span>(<span class="hljs-params">path</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;如果用户存储了用户名，我们就获取他&#x27;&#x27;&#x27;</span><br>    <span class="hljs-keyword">if</span> path.exists():<br>        contents = path.read_text()<br>        username = json.loads(contents)<br>        <span class="hljs-keyword">return</span> username<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_new_username</span>(<span class="hljs-params">path</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;提示用户输入用户名&#x27;&#x27;&#x27;</span><br>    username = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入你的名字：&quot;</span>)<br>    contents = json.dumps(username)<br>    path.write_text(contents, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>    <span class="hljs-keyword">return</span> username<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">greet_user</span>():<br>    <span class="hljs-string">&#x27;&#x27;&#x27;问候用户，并指出其名字&#x27;&#x27;&#x27;</span><br>    path = Path(<span class="hljs-string">&#x27;username.json&#x27;</span>)<br>    username = get_stored_username(path)<br>    <span class="hljs-keyword">if</span> username:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Welcome back <span class="hljs-subst">&#123;username&#125;</span>&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        username = get_new_username(path)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;我们将储存你的名字，<span class="hljs-subst">&#123;username&#125;</span>&quot;</span>)<br><br>greet_user()<br>请输入你的名字：zqten<br>我们将储存你的名字，zqten<br><span class="hljs-comment"># 在运行一次</span><br>greet_user()<br>Welcome back zqten<br></code></pre></td></tr></table></figure>
<h3 id="小结-v8">小结</h3>
<p>本章学习了如何使用文件，包括如何读取整个文件，如何读取文件中的各行，以及如何根据需要将任意数量的文本写入文件。然后学习了异常，以及如何处理程序可能引发的异常。最后学习了如何存储Python数据结构，以保存用户提供的信息，避免让用户在每次运行程序时都重新提供。</p>
<h2 id="第十章-测试代码">第十章 测试代码</h2>
<p>本章使用的是pip安装的pytest库来进行测试代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 在控制台安装</span><br>pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pytest<br></code></pre></td></tr></table></figure>
<h3 id="测试函数">测试函数</h3>
<p>测试基本分为下面几种：</p>
<ul>
<li>单元测试，用于核实函数的某个方面没有问题。</li>
<li>测试用例，是一组单元测试，核实函数在各种情况下的行为都符合要求。</li>
<li>全覆盖，测试一整套单元测试，涵盖了各种可能的函数使用方式。</li>
</ul>
<p>测试函数，需要新建一个文件，导入需要测试的函数，然后定义一个测试函数（这个函数的命名规范是：必须以 test 加下划线打头）。在测试过程中，<strong>pytest</strong>会找出并运行所有以 test 加下划线打头的函数。运行测试，需要在终端进入到要测试的程序的文件夹，输入pytest就会出现下面的测试内容。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># name_function.py 文件</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_formatted_name</span>(<span class="hljs-params">frist, last, middle=<span class="hljs-string">&#x27;&#x27;</span></span>):<br>    <span class="hljs-keyword">if</span> middle:<br>        full_name = <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;frist&#125;</span> <span class="hljs-subst">&#123;middle&#125;</span> <span class="hljs-subst">&#123;last&#125;</span>&quot;</span><br>    <span class="hljs-keyword">else</span>:<br>        full_name = <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;frist&#125;</span> <span class="hljs-subst">&#123;last&#125;</span>&quot;</span><br>    <span class="hljs-keyword">return</span> full_name.title()<br><br><span class="hljs-comment"># test_name_function.py 测试文件</span><br><span class="hljs-keyword">from</span> name_function <span class="hljs-keyword">import</span> get_formatted_name<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_frist_last_name</span>():<br>    formatted_name = get_formatted_name(<span class="hljs-string">&#x27;janis&#x27;</span>, <span class="hljs-string">&#x27;joplin&#x27;</span>)<br>    <span class="hljs-keyword">assert</span> formatted_name == <span class="hljs-string">&#x27;Janis Joplin&#x27;</span><br>    <br><span class="hljs-comment"># 运行测试，需要在终端进入到要测试的程序的文件夹，输入pytest就会出现下面的测试内容。</span><br>======================== test session starts ========================<br>platform win32 -- Python <span class="hljs-number">3.11</span><span class="hljs-number">.3</span>, pytest-<span class="hljs-number">7.4</span><span class="hljs-number">.0</span>, pluggy-<span class="hljs-number">1.3</span><span class="hljs-number">.0</span><br>rootdir: E:Python\第十章测试代码<br>collected <span class="hljs-number">1</span> item<br><br>test_name_function.py .                                     [<span class="hljs-number">100</span>%]<br><br>======================== <span class="hljs-number">1</span> passed <span class="hljs-keyword">in</span> <span class="hljs-number">0.01</span>s ==========================<br><br><br><span class="hljs-comment"># 未通过测试示例</span><br>===================== test session starts ============================<br>platform win32 -- Python <span class="hljs-number">3.11</span><span class="hljs-number">.3</span>, pytest-<span class="hljs-number">7.4</span><span class="hljs-number">.0</span>, pluggy-<span class="hljs-number">1.3</span><span class="hljs-number">.0</span><br>rootdir: E:Python\第十章测试代码<br>collected <span class="hljs-number">1</span> item<br><br>test_name_function.py F                                         [<span class="hljs-number">100</span>%]<br><br>====================== FAILURES ====================================== <br>__________________ test_frist_last_name_______________________________ <br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_frist_last_name</span>():<br>        formatted_name = get_formatted_name(<span class="hljs-string">&#x27;janis&#x27;</span>, <span class="hljs-string">&#x27;joplin&#x27;</span>)<br>&gt;       <span class="hljs-keyword">assert</span> formatted_name == <span class="hljs-string">&#x27;Janis Joplil&#x27;</span><br>E       AssertionError: <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;Janis Joplin&#x27;</span> == <span class="hljs-string">&#x27;Janis Joplil&#x27;</span><br>E         - Janis Joplil<br>E         ?            ^<br>E         + Janis Joplin<br>E         ?            ^<br><br>test_name_function.py:<span class="hljs-number">6</span>: AssertionError<br>============= short test summary info =========================================== <br>FAILED test_name_function.py:<br>:test_frist_last_name - AssertionError: <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;Janis Joplin&#x27;</span> == <span class="hljs-string">&#x27;Janis Joplil&#x27;</span><br>============= <span class="hljs-number">1</span> failed <span class="hljs-keyword">in</span> <span class="hljs-number">0.05</span>s ================================================= <br></code></pre></td></tr></table></figure>
<h3 id="测试类">测试类</h3>
<p>上面是测试了函数，现在我们针对类进行测试。</p>
<p><strong>各种断言：</strong></p>
<ul>
<li>assert a == b			断言两个值相等</li>
<li>assert a != b             断言两个值不等</li>
</ul>
<p>这里只列出了两个，测试能包含任意可用条件语句表示的断言，比如 not 、in等等。</p>
<p><strong>要测试的类</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 测试类 survey.py</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AnonymousSurvey</span>:<br>    <span class="hljs-string">&#x27;&#x27;&#x27;收集匿名调查问卷&#x27;&#x27;&#x27;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, question</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;存储一个问题，并为存储答案做准备&#x27;&#x27;&#x27;</span><br>        <span class="hljs-variable language_">self</span>.question = question<br>        <span class="hljs-variable language_">self</span>.responses = []<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">show_question</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;显示调查问卷&#x27;&#x27;&#x27;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-variable language_">self</span>.question)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">store_response</span>(<span class="hljs-params">self, new_response</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;存储单个调查答卷&#x27;&#x27;&#x27;</span><br>        <span class="hljs-variable language_">self</span>.responses.append(new_response)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">show_results</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&#x27;&#x27;&#x27;显示收集到的所有答案&#x27;&#x27;&#x27;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;所有问卷结果:&quot;</span>)<br>        <span class="hljs-keyword">for</span> response <span class="hljs-keyword">in</span> <span class="hljs-variable language_">self</span>.responses:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;- <span class="hljs-subst">&#123;response&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># 实例化 language_survey.py</span><br><span class="hljs-comment"># survey类的实例</span><br><span class="hljs-keyword">from</span> survey <span class="hljs-keyword">import</span> AnonymousSurvey<br><br><span class="hljs-comment"># 定义个问题，并创建一个表示调查的 AnonymousSurvey 对象</span><br>question = <span class="hljs-string">&quot;你学习了几种语言？&quot;</span><br>language_survey = AnonymousSurvey(question)<br><br><span class="hljs-comment"># 显示问题并存储答案</span><br>language_survey.show_question()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;按&#x27;q&#x27;退出。\n&quot;</span>)<br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    response = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;输入你学习的语言: &quot;</span>)<br>    <span class="hljs-keyword">if</span> response == <span class="hljs-string">&quot;q&quot;</span>:<br>        <span class="hljs-keyword">break</span><br>    language_survey.store_response(response)<br><br><span class="hljs-comment"># 显示答案</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n你学习的语言有&quot;</span>)<br>language_survey.show_results()<br><br>你学习了几种语言？<br>按<span class="hljs-string">&#x27;q&#x27;</span>退出。       <br><br>输入你学习的语言: 汉语<br>输入你学习的语言: 英语<br>输入你学习的语言: 日语<br>输入你学习的语言: 德语<br>输入你学习的语言: q<br><br>你学习的语言有<br>所有问卷结果: <br>- 汉语        <br>- 英语        <br>- 日语        <br>- 德语  <br></code></pre></td></tr></table></figure>
<p><strong>测试AnonymousSurvey类</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 测试AnonymousSurvey类 test_survey.py</span><br><span class="hljs-keyword">from</span> survey <span class="hljs-keyword">import</span> AnonymousSurvey<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_store_single_response</span>():<br>    <span class="hljs-string">&#x27;&#x27;&#x27;测试单个答案会被妥善地存储&#x27;&#x27;&#x27;</span><br>    question = <span class="hljs-string">&quot;What language did you first learn to speak?&quot;</span><br>    language_survey = AnonymousSurvey(question)<br>    language_survey.store_response(<span class="hljs-string">&#x27;English&#x27;</span>)<br>    <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;English&#x27;</span> <span class="hljs-keyword">in</span> language_survey.responses<br>    <br>==================== test session starts ============================== <br>platform win32 -- Python <span class="hljs-number">3.11</span><span class="hljs-number">.3</span>, pytest-<span class="hljs-number">7.4</span><span class="hljs-number">.0</span>, pluggy-<span class="hljs-number">1.3</span><span class="hljs-number">.0</span><br>rootdir: E:Python\第十章测试代码<br>collected <span class="hljs-number">1</span> items                                                                                                                       <br><br>test_survey.py .                             	  [<span class="hljs-number">100</span>%] <br><br>===================== <span class="hljs-number">1</span> passed <span class="hljs-keyword">in</span> <span class="hljs-number">0.02</span>s ===============================     <br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_store_three_response</span>():<br>    <span class="hljs-string">&#x27;&#x27;&#x27;测试多个答案会被妥善地存储&#x27;&#x27;&#x27;</span><br>    question = <span class="hljs-string">&quot;What language did you first learn to speak?&quot;</span><br>    language_survey = AnonymousSurvey(question)<br>    responses = [<span class="hljs-string">&#x27;English&#x27;</span>, <span class="hljs-string">&#x27;Spanish&#x27;</span>, <span class="hljs-string">&#x27;Chinese&#x27;</span>]<br>    <span class="hljs-keyword">for</span> response <span class="hljs-keyword">in</span> responses:<br>        language_survey.store_response(response)<br><br>    <span class="hljs-keyword">for</span> response <span class="hljs-keyword">in</span> responses:<br>        <span class="hljs-keyword">assert</span> response <span class="hljs-keyword">in</span> language_survey.responses<br><br>========================= test session starts ===============================<br>platform win32 -- Python <span class="hljs-number">3.11</span><span class="hljs-number">.3</span>, pytest-<span class="hljs-number">7.4</span><span class="hljs-number">.0</span>, pluggy-<span class="hljs-number">1.3</span><span class="hljs-number">.0</span><br>rootdir: E:Python\第十章测试代码<br>collected <span class="hljs-number">2</span> items                                                                                                                       <br><br>test_survey.py ..                   [<span class="hljs-number">100</span>%] <br><br>========================= <span class="hljs-number">2</span> passed <span class="hljs-keyword">in</span> <span class="hljs-number">0.02</span>s =================================<br></code></pre></td></tr></table></figure>
<p><strong>使用夹具</strong></p>
<p>夹具（@pytest.fixture）可帮助我们搭建测试环境，用于测试多个项目。这个需要导入（import pytest）。夹具使用方法是放在函数定义前面的指令。要使用夹具时，可编写一个函数来生成供多个测试函数使用的资源再对这个函数应用装饰器@pytest.fixture，并让使用该资源的每个测试函数都接受一个与该函数同名的形参。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pytest<br><span class="hljs-keyword">from</span> survey <span class="hljs-keyword">import</span> AnonymousSurvey<br><span class="hljs-comment"># 测试AnonymousSurvey类</span><br><br><br><span class="hljs-meta">@pytest.fixture</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">language_survey</span>():<br>    <span class="hljs-string">&#x27;&#x27;&#x27;一个可供所有测试函数使用的AnonymousSurvey实例&#x27;&#x27;&#x27;</span><br>    question = <span class="hljs-string">&quot;What language did you first learn to speak?&quot;</span><br>    language_survey = AnonymousSurvey(question)<br>    <span class="hljs-keyword">return</span> language_survey<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_store_single_response</span>(<span class="hljs-params">language_survey</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;测试单个答案会被妥善地存储&#x27;&#x27;&#x27;</span><br>    language_survey.store_response(<span class="hljs-string">&#x27;English&#x27;</span>)<br>    <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;English&#x27;</span> <span class="hljs-keyword">in</span> language_survey.responses<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_store_three_response</span>(<span class="hljs-params">language_survey</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;测试多个答案会被妥善地存储&#x27;&#x27;&#x27;</span><br>    responses = [<span class="hljs-string">&#x27;English&#x27;</span>, <span class="hljs-string">&#x27;Spanish&#x27;</span>, <span class="hljs-string">&#x27;Chinese&#x27;</span>]<br>    <span class="hljs-keyword">for</span> response <span class="hljs-keyword">in</span> responses:<br>        language_survey.store_response(response)<br><br>    <span class="hljs-keyword">for</span> response <span class="hljs-keyword">in</span> responses:<br>        <span class="hljs-keyword">assert</span> response <span class="hljs-keyword">in</span> language_survey.responses<br></code></pre></td></tr></table></figure>
<h3 id="小结-v9">小结</h3>
<p>本章学习了如何使用 pytest 模块中的工具来为函数和类编写测试。不仅学习了如何编写测试函数，以核实函数和类的行为符合预期，而且学习了如何使用夹具来高效地创建可在测试文件中的多个测试函数中使用的资源。</p>
<h1>第二部分 项目</h1>
<h2 id="第十二章-武装飞船">第十二章 武装飞船</h2>
<h3 id="外星人入侵项目规划">外星人入侵项目规划</h3>
<ul>
<li>玩家控制着一艘武装飞船出现在屏幕底部中央，玩家可以使用方向键左右移动飞船，使用空格键进行射击。</li>
<li>当游戏开始时，一个外形舰队出现在天空中，并向屏幕下方移动。</li>
<li>玩家的任务是消灭这些外星人。</li>
<li>玩家将万星人消灭干净后，将出现一个新的外形舰队，其移动速度更快。</li>
<li>只要有万星人撞到玩家的飞船或到达屏幕下边缘，玩家就损失一艘飞船。玩家损失三艘飞船游戏结束。</li>
</ul>
<p><strong>安装Pygame</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">pip install pygame<br></code></pre></td></tr></table></figure>
<h3 id="开始游戏项目">开始游戏项目</h3>
<p><strong>创建 Pygame 窗口及响应用户输入</strong></p>
<p>这里有及个新方法：</p>
<ul>
<li>pygame.display.set_mode((1200,800)) 设置显示画面的大小</li>
<li>pygame.display.set_caption(“Alien Invasion”) 设置标题和logo</li>
<li>pygame.display.flip() 让渲染的可见</li>
<li>pygame.time.Clock() 设置游戏帧率</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> pygame<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AlienInvasion</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;管理游戏资源和行为的类&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;初始化游戏并创建游戏资源&quot;&quot;&quot;</span><br>        pygame.init()<br><br>        <span class="hljs-variable language_">self</span>.screen = pygame.display.set_mode((<span class="hljs-number">1200</span>,<span class="hljs-number">800</span>))<br>        pygame.display.set_caption(<span class="hljs-string">&quot;Alien Invasion&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run_game</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;开始游戏主循环&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>            <span class="hljs-comment"># 监听键盘和鼠标事件</span><br>            <span class="hljs-keyword">for</span> event <span class="hljs-keyword">in</span> pygame.event.get():<br>                <span class="hljs-keyword">if</span> event.<span class="hljs-built_in">type</span> == pygame.QUIT:<br>                    sys.exit()<br>            <span class="hljs-comment"># 让最近绘制的屏幕可见</span><br>            pygame.display.flip()<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># 创建游戏实例并运行游戏</span><br>    ai = AlienInvasion()<br>    ai.run_game()<br></code></pre></td></tr></table></figure>
<p><strong>控制帧率</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AlienInvasion</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;管理游戏资源和行为的类&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;初始化游戏并创建游戏资源&quot;&quot;&quot;</span><br>        pygame.init()<br>        <span class="hljs-comment"># 创建游戏时钟，保证在其他系统都是相同的速度（帧率）运行</span><br>        <span class="hljs-variable language_">self</span>.clock = pygame.time.Clock()<br>        --snip--<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run_game</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;开始游戏主循环&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>            --snip--<br>            <span class="hljs-comment"># 让最近绘制的屏幕可见</span><br>            pygame.display.flip()    <br>            <span class="hljs-variable language_">self</span>.clock.tick(<span class="hljs-number">60</span>)<br></code></pre></td></tr></table></figure>
<p><strong>设置背景颜色</strong></p>
<p>fill() 方法是填充背景颜色，该方法只接受一个表示颜色的实参。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>   	--snip--<br>       pygame.display.set_caption(<span class="hljs-string">&quot;Alien Invasion&quot;</span>)<br>       <span class="hljs-comment"># 设置背景颜色</span><br>       <span class="hljs-variable language_">self</span>.bg_color = (<span class="hljs-number">230</span>,<span class="hljs-number">230</span>,<span class="hljs-number">230</span>)<br>   <span class="hljs-keyword">def</span> <span class="hljs-title function_">run_game</span>(<span class="hljs-params">self</span>):<br>       <span class="hljs-string">&quot;&quot;&quot;开始游戏主循环&quot;&quot;&quot;</span><br>       --snip--<br>       <span class="hljs-comment"># 每次循环时都重绘制屏幕</span><br>           <span class="hljs-variable language_">self</span>.screen.fill(<span class="hljs-variable language_">self</span>.bg_color)<br>       <span class="hljs-comment"># 让最近绘制的屏幕可见</span><br>           pygame.display.flip()<br></code></pre></td></tr></table></figure>
<p><strong>创建 Settings 类</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Settings</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;存储游戏《外星人入侵》中所有设置的类&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;初始化游戏的设置&quot;&quot;&quot;</span><br>        <span class="hljs-comment"># 屏幕设置</span><br>        <span class="hljs-variable language_">self</span>.screen_width = <span class="hljs-number">1200</span><br>        <span class="hljs-variable language_">self</span>.screen_height = <span class="hljs-number">800</span><br>        <span class="hljs-variable language_">self</span>.screen_color = (<span class="hljs-number">230</span>, <span class="hljs-number">230</span>, <span class="hljs-number">230</span>)<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AlienInvasion</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;管理游戏资源和行为的类&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;初始化游戏并创建游戏资源&quot;&quot;&quot;</span>        <br>        --snip--<br>        <span class="hljs-variable language_">self</span>.screen = pygame.display.set_mode((<span class="hljs-variable language_">self</span>.settings.screen_width, <span class="hljs-variable language_">self</span>.settings.screen_height))<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run_game</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;开始游戏主循环&quot;&quot;&quot;</span><br>        --snip--<br>            <span class="hljs-variable language_">self</span>.screen.fill(<span class="hljs-variable language_">self</span>.settings.screen_color)<br></code></pre></td></tr></table></figure>
<h3 id="添加飞船图像">添加飞船图像</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pygame<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Ship</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;管理飞船类&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, ai_game</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;初始化飞船并设置其初始位置&quot;&quot;&quot;</span><br>        <span class="hljs-variable language_">self</span>.screen = ai_game.screen<br>        <span class="hljs-variable language_">self</span>.screen_rect = ai_game.screen.get_rect()<br><br>        <span class="hljs-comment"># 加载飞船图像并获取其外接矩形</span><br>        <span class="hljs-variable language_">self</span>.image = pygame.image.load(<span class="hljs-string">&#x27;images/ship.bmp&#x27;</span>)<br>        <span class="hljs-variable language_">self</span>.rect = <span class="hljs-variable language_">self</span>.image.get_rect()<br><br>        <span class="hljs-comment"># 每艘新飞船都放在屏幕底部的中央</span><br>        <span class="hljs-variable language_">self</span>.rect.midbottom = <span class="hljs-variable language_">self</span>.screen_rect.midbottom<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">blitme</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;在指定位置绘制飞船&quot;&quot;&quot;</span><br>        <span class="hljs-variable language_">self</span>.screen.blit(<span class="hljs-variable language_">self</span>.image, <span class="hljs-variable language_">self</span>.rect)<br></code></pre></td></tr></table></figure>
<p>**注意：**在 pygame 中，原点（0,0）位于屏幕左上角，当一个点向右下方移动时，它的坐标值将增大，在1200X800的屏幕上，原点位于左上角，右下角的坐标为（1200,800）。这些坐标对应的是游戏窗口，而不是物理屏幕。</p>
<p><strong>在屏幕上绘制飞船</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> ship <span class="hljs-keyword">import</span> Ship<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AlienInvasion</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;管理游戏资源和行为的类&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;初始化游戏并创建游戏资源&quot;&quot;&quot;</span><br>    --snip--<br>    pygame.display.set_caption(<span class="hljs-string">&quot;Alien Invasion&quot;</span>)<br>    <span class="hljs-variable language_">self</span>.ship = Ship(<span class="hljs-variable language_">self</span>)<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run_game</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;开始游戏主循环&quot;&quot;&quot;</span><br>    --snip--<br>            <span class="hljs-variable language_">self</span>.screen.fill(<span class="hljs-variable language_">self</span>.settings.screen_color)<br>            <span class="hljs-variable language_">self</span>.ship.blitme()<br></code></pre></td></tr></table></figure>
<h3 id="重构：-check-events-方法和-update-screen-方法">重构：_check_events() 方法和 _update_screen() 方法</h3>
<p>在Python中辅助方法的名称以单下划线打头</p>
<p>_ <em>check_events() 方法和</em> _update_screen()方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">run_game</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;开始游戏主循环&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-comment"># 监听键盘和鼠标事件</span><br>        <span class="hljs-variable language_">self</span>._check_events()<br>        <span class="hljs-variable language_">self</span>._update_screen()<br>        <span class="hljs-comment"># 每秒60帧</span><br>        <span class="hljs-variable language_">self</span>.clock.tick(<span class="hljs-number">60</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">_check_events</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-comment"># 监听键盘和鼠标事件</span><br>    <span class="hljs-keyword">for</span> event <span class="hljs-keyword">in</span> pygame.event.get():<br>        <span class="hljs-keyword">if</span> event.<span class="hljs-built_in">type</span> == pygame.QUIT:<br>            sys.exit()<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">_update_screen</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-comment"># 每次循环时都重绘制屏幕</span><br>    <span class="hljs-variable language_">self</span>.screen.fill(<span class="hljs-variable language_">self</span>.settings.screen_color)<br>    <span class="hljs-variable language_">self</span>.ship.blitme()<br>    <span class="hljs-comment"># 让最近绘制的屏幕可见</span><br>    pygame.display.flip()<br></code></pre></td></tr></table></figure>
<h3 id="驾驶飞船">驾驶飞船</h3>
<p><strong>响应按键</strong></p>
<p>pygame中，事件都是通过 pygame.event.get() 方法获取的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">--snip--<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_check_events</span>(<span class="hljs-params">self</span>):<br>            <span class="hljs-comment"># 监听键盘和鼠标事件</span><br>            <span class="hljs-keyword">for</span> event <span class="hljs-keyword">in</span> pygame.event.get():<br>                <span class="hljs-keyword">if</span> event.<span class="hljs-built_in">type</span> == pygame.QUIT:<br>                    sys.exit()<br>                <span class="hljs-keyword">elif</span> event.<span class="hljs-built_in">type</span> == pygame.KEYDOWN:<br>                    <span class="hljs-keyword">if</span> event.key == pygame.K_RIGHT:<br>                        <span class="hljs-comment"># 飞船向右移动</span><br>                        <span class="hljs-variable language_">self</span>.ship.rect.x += <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>
<p><strong>持续移动</strong></p>
<p>pygame.KEYDOWN 和 pygame.KEYUP 两个事件是，按下键盘，和释放键盘。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs python">    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run_game</span>(<span class="hljs-params">self</span>):<br>            <span class="hljs-string">&quot;&quot;&quot;开始游戏主循环&quot;&quot;&quot;</span><br>            <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>                <span class="hljs-comment"># 监听键盘和鼠标事件</span><br>                <span class="hljs-variable language_">self</span>._check_events()<br>                <span class="hljs-comment"># 调用飞船位置更新函数</span><br>                <span class="hljs-variable language_">self</span>.ship.update()<br>                <span class="hljs-comment"># 更新画面</span><br>                <span class="hljs-variable language_">self</span>._update_screen()<br>                <span class="hljs-comment"># 每秒60帧</span><br>                <span class="hljs-variable language_">self</span>.clock.tick(<span class="hljs-number">60</span>)<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_check_events</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-comment"># 监听键盘和鼠标事件</span><br>        <span class="hljs-keyword">for</span> event <span class="hljs-keyword">in</span> pygame.event.get():<br>            <span class="hljs-keyword">if</span> event.<span class="hljs-built_in">type</span> == pygame.QUIT:<br>                sys.exit()<br>            <span class="hljs-keyword">elif</span> event.<span class="hljs-built_in">type</span> == pygame.KEYDOWN:<br>                <span class="hljs-keyword">if</span> event.key == pygame.K_RIGHT:<br>                    <span class="hljs-comment"># 飞船向右移动</span><br>                    <span class="hljs-variable language_">self</span>.ship.moving_right = <span class="hljs-literal">True</span><br>            <span class="hljs-keyword">elif</span> event.<span class="hljs-built_in">type</span> == pygame.KEYUP:<br>                <span class="hljs-keyword">if</span> event.key == pygame.K_RIGHT:<br>                    <span class="hljs-variable language_">self</span>.ship.moving_right = <span class="hljs-literal">False</span><br>                    <br><span class="hljs-comment"># ship.py</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Ship</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;管理飞船类&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, ai_game</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;初始化飞船并设置其初始位置&quot;&quot;&quot;</span><br>        --snip--<br>        <span class="hljs-comment"># 移动标志（飞船一开始不移动）</span><br>        <span class="hljs-variable language_">self</span>.moving_right = <span class="hljs-literal">False</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;根据移动标志调整飞船的位置&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.moving_right:<br>            <span class="hljs-variable language_">self</span>.rect.x += <span class="hljs-number">1</span><br>        --snip--<br></code></pre></td></tr></table></figure>
<p><strong>左右移动</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Ship</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;管理飞船类&quot;&quot;&quot;</span><br>		--snip--<br>        <span class="hljs-comment"># 移动标志（飞船一开始不移动）</span><br>        <span class="hljs-variable language_">self</span>.moving_right = <span class="hljs-literal">False</span><br>        <span class="hljs-variable language_">self</span>.moving_left = <span class="hljs-literal">False</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;根据移动标志调整飞船的位置&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.moving_right:<br>            <span class="hljs-variable language_">self</span>.rect.x += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.moving_left:<br>            <span class="hljs-variable language_">self</span>.rect.x -= <span class="hljs-number">1</span><br>        --snip--<br>        <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AlienInvasion</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;管理游戏资源和行为的类&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_check_events</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-comment"># 监听键盘和鼠标事件</span><br>        <span class="hljs-keyword">for</span> event <span class="hljs-keyword">in</span> pygame.event.get():<br>            <span class="hljs-keyword">if</span> event.<span class="hljs-built_in">type</span> == pygame.QUIT:<br>                sys.exit()<br>                <span class="hljs-comment"># 飞船移动</span><br>            <span class="hljs-keyword">elif</span> event.<span class="hljs-built_in">type</span> == pygame.KEYDOWN:<br>                <span class="hljs-keyword">if</span> event.key == pygame.K_RIGHT:<br>                    <span class="hljs-variable language_">self</span>.ship.moving_right = <span class="hljs-literal">True</span><br>                <span class="hljs-keyword">if</span> event.key == pygame.K_LEFT:<br>                    <span class="hljs-variable language_">self</span>.ship.moving_left = <span class="hljs-literal">True</span><br>            <span class="hljs-keyword">elif</span> event.<span class="hljs-built_in">type</span> == pygame.KEYUP:<br>                <span class="hljs-keyword">if</span> event.key == pygame.K_RIGHT:<br>                    <span class="hljs-variable language_">self</span>.ship.moving_right = <span class="hljs-literal">False</span><br>                <span class="hljs-keyword">if</span> event.key == pygame.K_LEFT:<br>                    <span class="hljs-variable language_">self</span>.ship.moving_left = <span class="hljs-literal">False</span>    <br></code></pre></td></tr></table></figure>
<p><strong>调整飞船的速度</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Settings</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;存储游戏《外星人入侵》中所有设置的类&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;初始化游戏的设置&quot;&quot;&quot;</span><br>        --snip--<br>        <span class="hljs-comment"># 飞船的设置</span><br>        <span class="hljs-variable language_">self</span>.ship_speed = <span class="hljs-number">1.5</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Ship</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;管理飞船类&quot;&quot;&quot;</span> <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, ai_game</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;初始化飞船并设置其初始位置&quot;&quot;&quot;</span>    <br>        --snip--<br>        <span class="hljs-comment"># 在飞创的属性X中存储一个浮点数</span><br>        <span class="hljs-variable language_">self</span>.x = <span class="hljs-built_in">float</span>(<span class="hljs-variable language_">self</span>.rect.x)<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;根据移动标志调整飞船的位置&quot;&quot;&quot;</span><br>        <span class="hljs-comment"># 更新飞船的属性 x 的值，而不是其外接矩形的属性 x 的值</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.moving_right:<br>            <span class="hljs-variable language_">self</span>.x += <span class="hljs-variable language_">self</span>.settings.ship_speed<br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.moving_left:<br>            <span class="hljs-variable language_">self</span>.x -= <span class="hljs-variable language_">self</span>.settings.ship_speed<br><br>        <span class="hljs-comment"># 根据self.x更新self.rect.x</span><br>        <span class="hljs-variable language_">self</span>.rect.x = <span class="hljs-variable language_">self</span>.x        <br></code></pre></td></tr></table></figure>
<p><strong>限制飞船的活动范围</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Ship</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;管理飞船类&quot;&quot;&quot;</span> <br>        --snip--    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;根据移动标志调整飞船的位置&quot;&quot;&quot;</span><br>        <span class="hljs-comment"># 更新飞船的属性 x 的值，而不是其外接矩形的属性 x 的值</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.moving_right <span class="hljs-keyword">and</span> <span class="hljs-variable language_">self</span>.rect.right &lt; <span class="hljs-variable language_">self</span>.screen_rect.right:<br>            <span class="hljs-variable language_">self</span>.x += <span class="hljs-variable language_">self</span>.settings.ship_speed<br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.moving_left <span class="hljs-keyword">and</span> <span class="hljs-variable language_">self</span>.rect.left &gt; <span class="hljs-number">0</span>:<br>            <span class="hljs-variable language_">self</span>.x -= <span class="hljs-variable language_">self</span>.settings.ship_speed        <br></code></pre></td></tr></table></figure>
<p><strong>重构：_check_events() 方法</strong></p>
<p>检查事件方法越来越长，我们将其部分代码放在两个方法中，一个处理键盘按下(KEYDOWN)，一个处理键盘释放(KEYUP)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">_check_events</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-comment"># 监听键盘和鼠标事件</span><br>    <span class="hljs-keyword">for</span> event <span class="hljs-keyword">in</span> pygame.event.get():<br>        <span class="hljs-keyword">if</span> event.<span class="hljs-built_in">type</span> == pygame.QUIT:<br>            sys.exit()<br>            <span class="hljs-comment"># 飞船移动</span><br>        <span class="hljs-keyword">elif</span> event.<span class="hljs-built_in">type</span> == pygame.KEYDOWN:<br>            <span class="hljs-variable language_">self</span>._check_keydown_events(event)<br>        <span class="hljs-keyword">elif</span> event.<span class="hljs-built_in">type</span> == pygame.KEYUP:<br>            <span class="hljs-variable language_">self</span>._check_keyup_events(event)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">_check_keydown_events</span>(<span class="hljs-params">self, event</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;响应按下键盘&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> event.key == pygame.K_RIGHT:<br>        <span class="hljs-variable language_">self</span>.ship.moving_right = <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">elif</span> event.key == pygame.K_LEFT:<br>        <span class="hljs-variable language_">self</span>.ship.moving_left = <span class="hljs-literal">True</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">_check_keyup_events</span>(<span class="hljs-params">self, event</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;响应释放键盘&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> event.key == pygame.K_RIGHT:<br>        <span class="hljs-variable language_">self</span>.ship.moving_right = <span class="hljs-literal">False</span><br>    <span class="hljs-keyword">if</span> event.key == pygame.K_LEFT:<br>        <span class="hljs-variable language_">self</span>.ship.moving_left = <span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure>
<p><strong>按 Q 退出</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">_check_keydown_events</span>(<span class="hljs-params">self, event</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;响应按下键盘&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> event.key == pygame.K_RIGHT:<br>        <span class="hljs-variable language_">self</span>.ship.moving_right = <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">elif</span> event.key == pygame.K_LEFT:<br>        <span class="hljs-variable language_">self</span>.ship.moving_left = <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">elif</span> event.key == pygame.K_q:<br>        sys.exit()<br></code></pre></td></tr></table></figure>
<p><strong>在全屏模式下运行游戏</strong></p>
<p>在创建屏幕时，传入(0, 0), pygame.FULLSCREEN ，这让pygame生成一个覆盖整个显示器的屏幕。由于无法知道屏幕的宽度和高度，所有后面接着要更新屏幕的 rect 的属性宽和高来更新对象 settings 。pygame不提供全屏模式下退出游戏的默认方式，所以运行前，确保可以使用 ‘q’ 退出</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AlienInvasion</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;管理游戏资源和行为的类&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;初始化游戏并创建游戏资源&quot;&quot;&quot;</span><br>        --snip--<br>        <span class="hljs-variable language_">self</span>.screen = pygame.display.set_mode((<span class="hljs-number">0</span>, <span class="hljs-number">0</span>), pygame.FULLSCREEN)<br>        <span class="hljs-variable language_">self</span>.settings.screen_width = <span class="hljs-variable language_">self</span>.screen.get_rect().width<br>        <span class="hljs-variable language_">self</span>.settings.screen_height = <span class="hljs-variable language_">self</span>.screen.get_rect().height        <br></code></pre></td></tr></table></figure>
<h3 id="简单回顾">简单回顾</h3>
<p>下面将添加射击功能，所以需要新增一个名为 <a target="_blank" rel="noopener" href="http://bullet.py">bullet.py</a> 的文件，并修改一些原有的文件，在添加其他功能前，先回顾一下这些文件，以便对这个项目的组织结构有清楚的认识。</p>
<ul>
<li>
<p>alien_invasion.py<br>
这个文件包含 AlienInvasion 类，这个类创建在游戏的很多地方会用到的一系列属性。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> pygame<br><br><span class="hljs-keyword">from</span> settings <span class="hljs-keyword">import</span> Settings<br><span class="hljs-keyword">from</span> ship <span class="hljs-keyword">import</span> Ship<br><span class="hljs-keyword">from</span> bullet <span class="hljs-keyword">import</span> Bullet<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AlienInvasion</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;管理游戏资源和行为的类&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;初始化游戏并创建游戏资源&quot;&quot;&quot;</span><br>        pygame.init()<br>        <span class="hljs-comment"># 创建游戏时钟，保证在其他系统都是相同的速度（帧率）运行</span><br>        <span class="hljs-variable language_">self</span>.clock = pygame.time.Clock()<br>        <span class="hljs-comment"># 设置背景颜色和窗口大小</span><br>        <span class="hljs-variable language_">self</span>.settings = Settings()<br>        <span class="hljs-comment"># 独立窗口运行程序</span><br>        <span class="hljs-variable language_">self</span>.screen = pygame.display.set_mode((<span class="hljs-variable language_">self</span>.settings.screen_width, <span class="hljs-variable language_">self</span>.settings.screen_height))<br>        <span class="hljs-comment"># 全屏模式游戏 &#x27;q&#x27; 退出</span><br>        <span class="hljs-comment"># self.screen = pygame.display.set_mode((0, 0), pygame.FULLSCREEN)</span><br>        <span class="hljs-comment"># self.settings.screen_width = self.screen.get_rect().width</span><br>        <span class="hljs-comment"># self.settings.screen_height = self.screen.get_rect().height</span><br>        pygame.display.set_caption(<span class="hljs-string">&quot;Alien Invasion&quot;</span>)<br>        <span class="hljs-variable language_">self</span>.ship = Ship(<span class="hljs-variable language_">self</span>)<br>        <span class="hljs-variable language_">self</span>.bullets = pygame.sprite.Group()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run_game</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;开始游戏主循环&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>            <span class="hljs-comment"># 监听键盘和鼠标事件</span><br>            <span class="hljs-variable language_">self</span>._check_events()<br>            <span class="hljs-comment"># 调用飞船位置更新函数</span><br>            <span class="hljs-variable language_">self</span>.ship.update()<br>            <span class="hljs-comment"># 更新子弹的位置并删除已消失的子弹</span><br>            <span class="hljs-variable language_">self</span>._update_bullets()<br>            <span class="hljs-comment"># 更新画面</span><br>            <span class="hljs-variable language_">self</span>._update_screen()<br>            <span class="hljs-comment"># 每秒60帧</span><br>            <span class="hljs-variable language_">self</span>.clock.tick(<span class="hljs-number">60</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_check_events</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-comment"># 监听键盘和鼠标事件</span><br>        <span class="hljs-keyword">for</span> event <span class="hljs-keyword">in</span> pygame.event.get():<br>            <span class="hljs-keyword">if</span> event.<span class="hljs-built_in">type</span> == pygame.QUIT:<br>                sys.exit()<br>                <span class="hljs-comment"># 飞船移动</span><br>            <span class="hljs-keyword">elif</span> event.<span class="hljs-built_in">type</span> == pygame.KEYDOWN:<br>                <span class="hljs-variable language_">self</span>._check_keydown_events(event)<br>            <span class="hljs-keyword">elif</span> event.<span class="hljs-built_in">type</span> == pygame.KEYUP:<br>                <span class="hljs-variable language_">self</span>._check_keyup_events(event)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_check_keydown_events</span>(<span class="hljs-params">self, event</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;响应按下键盘&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> event.key == pygame.K_RIGHT:<br>            <span class="hljs-variable language_">self</span>.ship.moving_right = <span class="hljs-literal">True</span><br>        <span class="hljs-keyword">elif</span> event.key == pygame.K_LEFT:<br>            <span class="hljs-variable language_">self</span>.ship.moving_left = <span class="hljs-literal">True</span><br>        <span class="hljs-keyword">elif</span> event.key == pygame.K_q:<br>            sys.exit()<br>        <span class="hljs-keyword">elif</span> event.key == pygame.K_SPACE:<br>            <span class="hljs-variable language_">self</span>._fire_bullet()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_check_keyup_events</span>(<span class="hljs-params">self, event</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;响应释放键盘&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> event.key == pygame.K_RIGHT:<br>            <span class="hljs-variable language_">self</span>.ship.moving_right = <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">if</span> event.key == pygame.K_LEFT:<br>            <span class="hljs-variable language_">self</span>.ship.moving_left = <span class="hljs-literal">False</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_fire_bullet</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;创建一颗子弹，并将其加入编著bullets &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(<span class="hljs-variable language_">self</span>.bullets) &lt; <span class="hljs-variable language_">self</span>.settings.bullet_allowed:<br>            new_bullet = Bullet(<span class="hljs-variable language_">self</span>)<br>            <span class="hljs-variable language_">self</span>.bullets.add(new_bullet)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_update_bullets</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;更新子弹的位置并删除已消失的子弹&quot;&quot;&quot;</span><br>        <span class="hljs-comment"># 更新子弹位置</span><br>        <span class="hljs-variable language_">self</span>.bullets.update()<br>        <span class="hljs-comment"># 删除已消失的子弹</span><br>        <span class="hljs-keyword">for</span> bullet <span class="hljs-keyword">in</span> <span class="hljs-variable language_">self</span>.bullets.copy():<br>            <span class="hljs-keyword">if</span> bullet.rect.bottom &lt;= <span class="hljs-number">0</span>:<br>                <span class="hljs-variable language_">self</span>.bullets.remove(bullet)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_update_screen</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-comment"># 每次循环时都重绘制屏幕</span><br>        <span class="hljs-variable language_">self</span>.screen.fill(<span class="hljs-variable language_">self</span>.settings.screen_color)<br>        <span class="hljs-comment"># 子弹绘制        </span><br>        <span class="hljs-keyword">for</span> bullet <span class="hljs-keyword">in</span> <span class="hljs-variable language_">self</span>.bullets.sprites():<br>            bullet.draw_bullet()<br>        <span class="hljs-variable language_">self</span>.ship.blitme()<br>        <span class="hljs-comment"># 让最近绘制的屏幕可见</span><br>        pygame.display.flip()<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># 创建游戏实例并运行游戏</span><br>    ai = AlienInvasion()<br>    ai.run_game()<br></code></pre></td></tr></table></figure>
</li>
<li>
<p><a target="_blank" rel="noopener" href="http://settings.py">settings.py</a><br>
这个文件包含 Settings 类，这个类只有一个方法，这个文件主要用于初始化控制游戏外观和飞船速度的属性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Settings</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;存储游戏《外星人入侵》中所有设置的类&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;初始化游戏的设置&quot;&quot;&quot;</span><br>        <span class="hljs-comment"># 屏幕设置</span><br>        <span class="hljs-variable language_">self</span>.screen_width = <span class="hljs-number">1200</span><br>        <span class="hljs-variable language_">self</span>.screen_height = <span class="hljs-number">800</span><br>        <span class="hljs-variable language_">self</span>.screen_color = (<span class="hljs-number">230</span>, <span class="hljs-number">230</span>, <span class="hljs-number">230</span>)<br><br>        <span class="hljs-comment"># 飞船的设置</span><br>        <span class="hljs-variable language_">self</span>.ship_speed = <span class="hljs-number">1.5</span><br><br>        <span class="hljs-comment"># 子弹设置</span><br>        <span class="hljs-variable language_">self</span>.bullet_speed = <span class="hljs-number">2.0</span><br>        <span class="hljs-variable language_">self</span>.bullet_width = <span class="hljs-number">3</span><br>        <span class="hljs-variable language_">self</span>.bullet_height = <span class="hljs-number">15</span><br>        <span class="hljs-variable language_">self</span>.bullet_color = (<span class="hljs-number">60</span>, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>)<br>        <span class="hljs-comment"># 屏幕上最多出现的子弹数量</span><br>        <span class="hljs-variable language_">self</span>.bullet_allowed = <span class="hljs-number">5</span><br></code></pre></td></tr></table></figure>
</li>
<li>
<p><a target="_blank" rel="noopener" href="http://ship.py">ship.py</a><br>
这个文件包含 Ship 类，这个类主要用于在屏幕上绘制飞船</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pygame<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Ship</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;管理飞船类&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, ai_game</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;初始化飞船并设置其初始位置&quot;&quot;&quot;</span><br>        <span class="hljs-variable language_">self</span>.screen = ai_game.screen<br>        <span class="hljs-variable language_">self</span>.settings = ai_game.settings<br>        <span class="hljs-variable language_">self</span>.screen_rect = ai_game.screen.get_rect()<br><br>        <span class="hljs-comment"># 加载飞船图像并获取其外接矩形</span><br>        <span class="hljs-variable language_">self</span>.image = pygame.image.load(<span class="hljs-string">&#x27;images/ship.bmp&#x27;</span>)<br>        <span class="hljs-variable language_">self</span>.rect = <span class="hljs-variable language_">self</span>.image.get_rect()<br><br>        <span class="hljs-comment"># 每艘新飞船都放在屏幕底部的中央</span><br>        <span class="hljs-variable language_">self</span>.rect.midbottom = <span class="hljs-variable language_">self</span>.screen_rect.midbottom<br><br>        <span class="hljs-comment"># 在飞船的属性X中存储一个浮点数</span><br>        <span class="hljs-variable language_">self</span>.x = <span class="hljs-built_in">float</span>(<span class="hljs-variable language_">self</span>.rect.x)<br><br>        <span class="hljs-comment"># 移动标志（飞船一开始不移动）</span><br>        <span class="hljs-variable language_">self</span>.moving_right = <span class="hljs-literal">False</span><br>        <span class="hljs-variable language_">self</span>.moving_left = <span class="hljs-literal">False</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;根据移动标志调整飞船的位置&quot;&quot;&quot;</span><br>        <span class="hljs-comment"># 更新飞船的属性 x 的值，而不是其外接矩形的属性 x 的值</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.moving_right <span class="hljs-keyword">and</span> <span class="hljs-variable language_">self</span>.rect.right &lt; <span class="hljs-variable language_">self</span>.screen_rect.right:<br>            <span class="hljs-variable language_">self</span>.x += <span class="hljs-variable language_">self</span>.settings.ship_speed<br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.moving_left <span class="hljs-keyword">and</span> <span class="hljs-variable language_">self</span>.rect.left &gt; <span class="hljs-number">0</span>:<br>            <span class="hljs-variable language_">self</span>.x -= <span class="hljs-variable language_">self</span>.settings.ship_speed<br><br>        <span class="hljs-comment"># 根据self.x更新self.rect.x</span><br>        <span class="hljs-variable language_">self</span>.rect.x = <span class="hljs-variable language_">self</span>.x<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">blitme</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;在指定位置绘制飞船&quot;&quot;&quot;</span><br>        <span class="hljs-variable language_">self</span>.screen.blit(<span class="hljs-variable language_">self</span>.image, <span class="hljs-variable language_">self</span>.rect)<br></code></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="射击">射击</h3>
<ul>
<li><a target="_blank" rel="noopener" href="http://bullett.py">bullett.py</a><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pygame<br><span class="hljs-keyword">from</span> pygame.sprite <span class="hljs-keyword">import</span> Sprite<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Bullet</span>(<span class="hljs-title class_ inherited__">Sprite</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;管理飞船所发射子弹的类&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, ai_game</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;在飞船的当前位置创建一个子弹对象&quot;&quot;&quot;</span><br>        <span class="hljs-built_in">super</span>().__init__()<br>        <span class="hljs-variable language_">self</span>.screen = ai_game.screen<br>        <span class="hljs-variable language_">self</span>.settings = ai_game.settings<br>        <span class="hljs-variable language_">self</span>.color = <span class="hljs-variable language_">self</span>.settings.bullet_color<br><br>        <span class="hljs-comment"># 在（0,0）处创建一个表示子弹的矩形，再设置正确的位置</span><br>        <span class="hljs-variable language_">self</span>.rect = pygame.Rect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-variable language_">self</span>.settings.bullet_width, <span class="hljs-variable language_">self</span>.settings.bullet_height)<br>        <span class="hljs-variable language_">self</span>.rect.midtop = ai_game.ship.rect.midtop<br><br>        <span class="hljs-comment"># 存储用浮点数表示的子弹位置</span><br>        <span class="hljs-variable language_">self</span>.y = <span class="hljs-built_in">float</span>(<span class="hljs-variable language_">self</span>.rect.y)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;向上移动子弹&quot;&quot;&quot;</span><br>        <span class="hljs-comment"># 更新子弹的准确位置</span><br>        <span class="hljs-variable language_">self</span>.y -= <span class="hljs-variable language_">self</span>.settings.bullet_speed<br>        <span class="hljs-comment"># 更新表示子弹的 rect 的位置</span><br>        <span class="hljs-variable language_">self</span>.rect.y = <span class="hljs-variable language_">self</span>.y<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">draw_bullet</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;在屏幕上绘制子弹&quot;&quot;&quot;</span><br>        pygame.draw.rect(<span class="hljs-variable language_">self</span>.screen, <span class="hljs-variable language_">self</span>.color, <span class="hljs-variable language_">self</span>.rect)<br></code></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="小结-v10">小结</h3>
<p>本章学习了游戏开发计划的指定以及使用Pygame编写的游戏的基本结构。接着学习了如何设置背景色，以及如何将设置存储在独立的类中。然后学习了如何在屏幕上绘制图像，以及如何让玩家控制游戏元素的移动。不仅创建了能自动移动的元素，还删除了不再需要的对象。最后学习了经常性重构是如何为项目的后续开发提供便利的。</p>
<h2 id="第十三章-外星人">第十三章 外星人</h2>
<h3 id="项目回顾">项目回顾</h3>
<p>本章将完成下列开发：</p>
<ul>
<li>[ ] 在屏幕左上角添加一个外星人，并指定合适的边距。</li>
<li>[ ] 沿屏幕上边缘添加一行万星人，再不断地添加成行的外星人，直到填满屏幕的上半部分。</li>
<li>[ ] 让外星人向两侧和向下移动，直到外星舰队被全部击落、有外星人撞到飞船或有外星人抵达屏幕的下边缘。如果外星舰队都被击落，将再创建一个外星舰队；如果有外星人撞到飞船或抵达屏幕下边缘，就销毁飞船并再创建一个外星舰队。<br>
<strong>注意</strong>：pygame里面的精灵碰撞和对象碰撞是两个方法
<ul>
<li>pygame.sprite.groupcollide(精灵1，精灵2，1是否参与碰撞，2是否参与碰撞)。<strong>这个是直接赋值给变量就可以了。和 input 差不多</strong></li>
<li>pygame.sprite.spritecollideany(对象，精灵)。<strong>这个是返回一个bool值</strong></li>
</ul>
</li>
<li>[ ] 限制玩家可用的飞船数量，分配的飞船被用完后，游戏将结束。</li>
</ul>
<h3 id="创建第一个外星人">创建第一个外星人</h3>
<h3 id="小结-v11">小结</h3>
<p>本章通过创建外星舰队学习了如何在游戏中添加大量相同的元素，如何使用嵌套循环来创建成行成列的整齐元素，以及如何通过调用每个元素的 <code>update()</code>方法移动大量的元素。接着学习了如何控制对象在屏幕上的移动方向，以及如何响应特定的情形，如有外星人到达屏幕边缘。然后学习了如何检测并相应子弹和外星人的碰撞以及外星人和飞创的碰撞。最后学习了如何在游戏中跟踪统计信息，以及如何使用标志 <code> game_active</code>来判断游戏是否结束。</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/" class="category-chain-item">计算机</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E7%BC%96%E7%A8%8B/" class="print-no-link">#编程</a>
      
        <a href="/tags/python/" class="print-no-link">#python</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>python入门学习笔记</div>
      <div>http://example.com/2024/10/25/2024-10-25-Python入门到实践第三版学习笔记/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>zqten</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2024年10月25日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/10/25/2024-10-25-%E8%81%AA%E6%98%8E%E7%9A%84%E6%8A%95%E8%B5%84%E8%80%85%E7%AC%94%E8%AE%B0/" title="聪明的投资者——投资指南">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">聪明的投资者——投资指南</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/10/25/2024-10-25-%E7%94%B5%E8%84%91%E5%B0%8F%E6%8A%80%E5%B7%A7/" title="电脑小技巧（持续更新）">
                        <span class="hidden-mobile">电脑小技巧（持续更新）</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://zqten.github.io/" target="_blank" rel="nofollow noopener"><span>Zqten</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Freedom-Fluid</span></a>  
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
